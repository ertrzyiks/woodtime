{"version":3,"sources":["queries/eventForListFragment.ts","queries/getEvents.ts","queries/deleteEvent.ts","components/SimpleChecklist/SimpleChecklist.tsx","components/InitialNavigationDetector/InitialNavigationDetector.tsx","hooks/useInitialNavigation.ts","hooks/useBreadcrumbStyles.ts","components/LoadingIndicator/LoadingIndicator.tsx","containers/EventList/EventList.tsx","queries/createEvent.ts","containers/AddEvent/AddEvent.tsx","components/LinearProgressWithLabel/LinearProgressWithLabel.tsx","components/MissingCheckpointsArea/MissingCheckpointsArea.tsx","components/CheckpointCard/CheckpointCard.tsx","components/Solution/Solution.tsx","components/CheckpointsService/CheckpointsService.tsx","queries/deleteCheckpoint.ts","components/Participants/Participants.tsx","containers/EventPage/components/ScoreLauf/ScoreLauf.tsx","components/VirtualEvent/VirtualEvent.tsx","containers/EventPage/data/getEvent.ts","queries/createCheckpoint.ts","components/CheckpointListItem/CheckpointListItem.tsx","containers/EventPage/components/Classic/Classic.tsx","containers/EventPage/EventPage.tsx","components/CheckpointsService/useEventQueue.ts","containers/EventInvitePage/data/getFriends.ts","containers/EventInvitePage/data/invite.ts","containers/EventInvitePage/EventInvitePage.tsx","containers/AddCheckpointPage/AddCheckpointPage.tsx","assets/oval.png","containers/AddVirtualChallenge/Map.tsx","queries/getVirtualPoints.ts","queries/createVirtualChallenge.ts","containers/AddVirtualChallenge/AddVirtualChallenge.tsx","queries/getVirtualChallenges.ts","containers/VirtualChallengeList/VirtualChallengeList.tsx","queries/getVirtualChallenge.ts","queries/enrollVirtualChallenge.ts","containers/VirtualChallenge/VirtualChallenge.tsx","components/CheckpointsService/Executor.ts","components/CheckpointsService/ErrorReporter.tsx","components/PwaUpdaterContext/PwaUpdaterContext.tsx","components/PwaUpdateNofication/PwaUpdateNotification.tsx","AppShell.tsx","i18n/index.ts","Layout.tsx","containers/SignIn/data/signIn.ts","containers/SignIn/SignIn.tsx","containers/JoinEvent/data/joinEvent.ts","containers/JoinEvent/JoinEvent.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["EventForListFragmentDoc","GetEventsDocument","definitions","DeleteEventDocument","useStyles","makeStyles","theme","createStyles","listWrapper","padding","SimpleChecklist","props","classes","Dialog","aria-labelledby","open","onClose","handleClose","DialogTitle","id","List","className","map","text","ndx","ListItem","dense","ListItemText","primary","primaryTypographyProps","variant","InitialNavigationContext","React","createContext","InitialNavigationDetector","children","useState","firstPathName","setFirstPathName","isFirst","setIsFirst","location","useLocation","useEffect","pathname","Provider","value","useInitialNavigation","useContext","useBreadcrumbStyles","link","display","icon","marginRight","spacing","width","height","root","LoadingIndicator","active","LinearProgress","color","Event","name","createdAt","button","component","Link","to","secondary","format","Date","wrapper","deleteIcon","icons","justifyContent","addEventButton","position","right","bottom","EventList","t","useTranslation","isInitialNavigation","useQuery","fetchPolicy","undefined","nextFetchPolicy","loading","error","data","showChecklist","setShowChecklist","useMutation","refetchQueries","awaitRefetchQueries","deleteEvent","breadcrumbClasses","toString","Box","px","py","Breadcrumbs","aria-label","Typography","events","sort","a","b","created_at","IconButton","onClick","variables","Fab","CreateEventDocument","radioGroupWrapper","paddingTop","paddingBottom","title","radioLabel","fontSize","AddEvent","setName","numCheckpoints","setNumCheckpoints","type","setType","history","useHistory","query","onCompleted","createEvent","event","push","keepMounted","aria-describedby","onSubmit","eventTypeId","checkpointCount","parseInt","render","handleSubmit","DialogContent","input","meta","TextField","label","required","autoComplete","onChange","e","target","touched","FormControl","FormLabel","RadioGroup","FormControlLabel","control","Radio","size","DialogActions","Button","LinearProgressWithLabel","current","max","alignItems","mr","minWidth","MissingCheckpointsArea","scoredIds","missingPoints","Array","fill","_","idx","filter","p","includes","length","mt","ml","mb","join","header","backgroundColor","content","border","paddingLeft","paddingRight","boxSizing","top","CheckpointCard","checkpoint","onDelete","style","flexDirection","cp_id","skipped","cp_code","toUpperCase","Solution","checkpoints","parsedCodes","matchingCheckpoint","find","ch","CheckpointsStateContext","queue","errored","CheckpointsDispatchContext","reducer","state","action","eventId","item","cpId","CheckpointsService","useReducer","initialValue","localStorage","getItem","storedValue","JSON","parse","dispatch","setItem","stringify","DeleteCheckpointDocument","Participants","list","user","index","Chip","RouterLink","flexGrow","paper","pendingItem","opacity","addCheckpointButton","ScoreLauf","newCheckpointPath","deleteCheckpoint","handleDeleteClick","pending","m","participants","checkpoint_count","Grid","container","xs","justify","concat","Paper","VirtualEvent","virtualChallenge","setActive","setPosition","cancelled","navigator","geolocation","getCurrentPosition","code","TIMEOUT","enableHighAccuracy","useCallback","useUserLocation","readLocation","console","log","disabled","GetEventDocument","CreateCheckpointDocument","skippedText","fontStyle","CheckpointListItem","labelId","createCheckpoint","event_id","creationLoading","creationError","skipButton","checkpointId","stopPropagation","cpCode","skipReason","err","handleSkipClick","role","handleToggle","ListItemIcon","Checkbox","edge","checked","tabIndex","disableRipple","inputProps","Classic","allPoints","matchingPoint","EVENT_TYPES","Loader","speed","viewBox","foregroundColor","EventPage","useParams","items","useEventQueue","skip_reason","mergeCheckpoints","x","y","rx","ry","eventContent","virtual_challenge","GetFriendsDocument","InviteToEventDocument","EventInvitePage","friendsData","invite","inviteUrl","window","protocol","host","invite_token","clipboard","writeText","me","friends","friend","friendId","margin","AddCheckpointPage","initialValues","values","submitError","checkpointIcon","L","iconUrl","oval","shadowUrl","iconSize","shadowSize","iconAnchor","shadowAnchor","popupAnchor","Map","initialPoint","startPoint","range","onDrag","mapRef","useRef","circleRef","dragging","setDragging","setView","attribution","maxZoom","tileSize","zoomOffset","addTo","off","remove","callback","latlng","on","circle","fillColor","fillOpacity","radius","marker","draggable","getLatLng","setLatLng","addLayer","removeLayer","setRadius","markers","point","lat","lng","bindTooltip","permanent","interactive","direction","forEach","newCheckPoints","GetVirtualPointsDocument","CreateVirtualChallengeDocument","AddVirtualChallenge","points","setPoints","useLazyQuery","notifyOnNetworkStatusChange","getPoints","create","setStartPoint","useMemo","setRange","handlePositionDrag","coords","hasPoint","handleMapClick","handlePointsChange","handleCreate","start","count","pointsNearby","parseFloat","Slider","newValue","isArray","min","left","GetVirtualChallengesDocument","addChallengeButton","VirtualChallengeList","virtualChallenges","nodes","challenge","GetVirtualChallengeDocument","EnrollVirtualChallengeDocument","VirtualChallenge","enrollVirtualChallenge","enroll","Executor","firstQueueElement","catch","ErrorReporter","setOpen","errors","Snackbar","anchorOrigin","vertical","horizontal","message","autoHideDuration","PwaUpdaterContext","PwaUpdateNotification","updater","setLoading","registration","setRegistration","handleUpdate","reg","onUpdate","offUpdate","Boolean","Fragment","registrationWaiting","waiting","postMessage","addEventListener","reload","errorLink","onError","graphQLErrors","extensions","href","encodeURIComponent","getLink","createHttpLink","credentials","uri","process","menuButton","loaderWrapper","bottomBar","i18n","use","LanguageDetector","initReactI18next","init","resources","en","translation","translationEn","pl","translationPl","fallbackLng","interpolation","escapeValue","AppShell","apolloClient","client","setClient","cache","InMemoryCache","persistCache","storage","LocalStorageWrapper","ApolloClient","ApolloLink","from","ApolloProvider","CircularProgress","BottomBar","BottomNavigation","showLabels","BottomNavigationAction","Layout","AppBar","Toolbar","SignInDocument","SignIn","redirect","URLSearchParams","search","get","decodeURIComponent","signIn","my","JoinEventDocument","JoinEvent","urlParams","token","update","joinEvent","modify","fields","existingEvents","newEventRef","writeFragment","fragment","success","App","basename","path","exact","isLocalhost","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","onupdatefound","installingWorker","installing","onstatechange","controller","onSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","onSuccessCallbacks","onUpdateCallbacks","UpdaterProvider","cb","offSuccess","fn","ReactDOM","StrictMode","document","getElementById","URL","origin","fetch","headers","response","contentType","status","indexOf","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.c0b84fd6.chunk.js","sourcesContent":["/* eslint-disable */\nimport * as Types from '../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type EventForListFragment = { __typename?: 'Event', id: number, name: string, checkpoint_count: number, created_at: string };\n\nexport const EventForListFragmentDoc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"FragmentDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"EventForList\"},\"typeCondition\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Event\"}},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpoint_count\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"created_at\"}}]}}]} as unknown as DocumentNode<EventForListFragment, unknown>;","/* eslint-disable */\nimport * as Types from '../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nimport { EventForListFragmentDoc } from './eventForListFragment';\nexport type GetEventsQueryVariables = Types.Exact<{ [key: string]: never; }>;\n\n\nexport type GetEventsQuery = { __typename?: 'Query', events: Array<{ __typename?: 'Event', id: number, name: string, checkpoint_count: number, created_at: string }> };\n\n\nexport const GetEventsDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"getEvents\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"events\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"FragmentSpread\",\"name\":{\"kind\":\"Name\",\"value\":\"EventForList\"}}]}}]}},...EventForListFragmentDoc.definitions]} as unknown as DocumentNode<GetEventsQuery, GetEventsQueryVariables>;","/* eslint-disable */\nimport * as Types from '../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type DeleteEventMutationVariables = Types.Exact<{\n  id: Types.Scalars['Int'];\n}>;\n\n\nexport type DeleteEventMutation = { __typename?: 'Mutation', deleteEvent: { __typename?: 'DeleteEventResult', id: number } | null };\n\n\nexport const DeleteEventDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"DeleteEvent\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"deleteEvent\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}]}}]}}]} as unknown as DocumentNode<DeleteEventMutation, DeleteEventMutationVariables>;","import {\n  createStyles,\n  Dialog,\n  DialogTitle,\n  List,\n  ListItem,\n  ListItemText,\n  makeStyles,\n  Theme,\n} from '@material-ui/core';\nimport React from 'react';\n\ninterface Props {\n  handleClose: () => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    listWrapper: {\n      padding: 10,\n    },\n  })\n);\n\nconst SimpleChecklist = (props: Props) => {\n  const items: string[] = [\n    '4 kanapki',\n    'dwa bidony wody',\n    'kubek Kuby',\n    'jabko w kawakach',\n    'banan',\n    'ciastka',\n    'pampersy',\n    'chusteczki mokre',\n    'worek na mieci',\n    'chusteczki zwyke',\n    'pseta',\n    'octenisept',\n    'el do dezynfekcji',\n  ];\n\n  const classes = useStyles();\n\n  return (\n    <Dialog\n      aria-labelledby=\"simple-checklist-title\"\n      open\n      onClose={props.handleClose}\n    >\n      <DialogTitle id=\"simple-checklist-title\">Rzeczy do zabrania</DialogTitle>\n      <List className={classes.listWrapper}>\n        {items.map((text, ndx: number) => (\n          <ListItem key={ndx} dense>\n            <ListItemText\n              primary={text}\n              primaryTypographyProps={{ variant: 'body1' }}\n            />\n          </ListItem>\n        ))}\n      </List>\n    </Dialog>\n  );\n};\n\nexport default SimpleChecklist;\n","import React, {ReactNode, useEffect, useState} from 'react'\nimport { useLocation } from 'react-router-dom'\n\nexport const InitialNavigationContext = React.createContext(false)\n\ninterface Props {\n  children: ReactNode\n}\n\nconst InitialNavigationDetector = ({ children }: Props) => {\n  const [firstPathName, setFirstPathName] = useState<string | null>(null)\n  const [isFirst, setIsFirst] = useState(true)\n  const location = useLocation()\n\n  useEffect(() => {\n    if (!firstPathName) {\n      setFirstPathName(location.pathname)\n    } else if (firstPathName !== location.pathname) {\n      setIsFirst(false)\n    }\n  }, [firstPathName, location.pathname, isFirst, setIsFirst])\n\n  return (\n    <InitialNavigationContext.Provider value={(!firstPathName || firstPathName === location.pathname) && isFirst}>\n      {children}\n    </InitialNavigationContext.Provider>\n  )\n}\n\nexport default InitialNavigationDetector\n","import {useContext} from \"react\";\n\nimport {InitialNavigationContext} from \"../components/InitialNavigationDetector/InitialNavigationDetector\";\n\nexport function useInitialNavigation() {\n  return useContext(InitialNavigationContext)\n}\n","import {\n  createStyles,\n  makeStyles,\n  Theme,\n} from '@material-ui/core';\n\nexport const useBreadcrumbStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    link: {\n      display: 'flex',\n    },\n    icon: {\n      marginRight: theme.spacing(0.5),\n      width: 20,\n      height: 20,\n    },\n  })\n);\n","import React from 'react'\nimport {createStyles, LinearProgress, makeStyles, Theme} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: 4\n    }\n  })\n);\n\ninterface Props {\n  active: boolean\n}\n\nconst LoadingIndicator = ({ active }: Props) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      {active && <LinearProgress color=\"secondary\" />}\n    </div>\n  )\n}\n\nexport default LoadingIndicator\n","import {\n  Box,\n  Breadcrumbs,\n  createStyles,\n  Fab,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  makeStyles,\n  Theme,\n  Typography,\n} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport EventIcon from '@material-ui/icons/Event';\nimport ListIcon from '@material-ui/icons/List';\nimport { Link } from 'react-router-dom';\nimport format from 'date-fns/format';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { GetEventsDocument } from '../../queries/getEvents';\nimport { DeleteEventDocument } from '../../queries/deleteEvent';\nimport SimpleChecklist from '../../components/SimpleChecklist/SimpleChecklist';\nimport React, { useState } from 'react';\nimport { useInitialNavigation } from '../../hooks/useInitialNavigation';\nimport { useBreadcrumbStyles } from '../../hooks/useBreadcrumbStyles';\nimport LoadingIndicator from '../../components/LoadingIndicator/LoadingIndicator';\nimport {useTranslation} from \"react-i18next\";\n\nconst Event = ({\n  id,\n  name,\n  createdAt,\n}: {\n  id: number;\n  name: string;\n  createdAt: string;\n}) => (\n  <ListItem button component={Link} to={`/events/${id}`}>\n    <ListItemText\n      primary={name}\n      secondary={format(new Date(createdAt), 'dd/MM/yyyy')}\n    />\n  </ListItem>\n);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    wrapper: {\n      display: 'flex',\n      width: '100%',\n    },\n    deleteIcon: {},\n    icons: {\n      display: 'flex',\n      justifyContent: 'space-between',\n    },\n    listWrapper: {},\n    addEventButton: {\n      position: 'fixed',\n      right: '1em',\n      bottom: '5em',\n    },\n  })\n);\n\nconst EventList = () => {\n  const { t } = useTranslation()\n  const isInitialNavigation = useInitialNavigation();\n  const { loading, error, data } = useQuery(GetEventsDocument, {\n    fetchPolicy: isInitialNavigation ? 'cache-and-network' : undefined,\n    nextFetchPolicy: isInitialNavigation ? 'cache-first' : undefined,\n  });\n  const [showChecklist, setShowChecklist] = useState(false);\n\n  const [deleteEvent] = useMutation(DeleteEventDocument, {\n    refetchQueries: ['getEvents'],\n    awaitRefetchQueries: true,\n  });\n\n  const handleChecklistClick = () => {\n    setShowChecklist(true);\n  };\n\n  const handleChecklistClose = () => {\n    setShowChecklist(false);\n  };\n\n  const handleDeleteClick = (eventId: number) => {\n    return deleteEvent({ variables: { id: eventId } });\n  };\n\n  const classes = useStyles();\n  const breadcrumbClasses = useBreadcrumbStyles();\n\n  if (loading && !data) {\n    return <p>Loading...</p>;\n  }\n\n  if (error) {\n    return <p>Error :( {error.toString()}</p>;\n  }\n\n  return (\n    <div className={classes.listWrapper}>\n      <Box px={1} py={2}>\n        <Breadcrumbs aria-label=\"breadcrumb\">\n          <Typography color=\"textPrimary\" className={breadcrumbClasses.link}>\n            <EventIcon className={breadcrumbClasses.icon} />\n            {t('navigation.events')}\n          </Typography>\n        </Breadcrumbs>\n      </Box>\n\n      <LoadingIndicator active={loading} />\n\n      {error && <p>Error :(</p>}\n\n      <List>\n        {[...data?.events ?? []]\n          .sort((a: { id: number }, b: { id: number }) => b.id - a.id)\n          // TODO: generate types\n          .map(\n            ({\n              id,\n              name,\n              created_at,\n            }: {\n              id: number;\n              name: string;\n              created_at: string;\n            }) => (\n              <div className={classes.wrapper} key={id}>\n                <Event id={id} name={name} createdAt={created_at} />\n                <div className={classes.icons}>\n                  <IconButton\n                    aria-label=\"checklist\"\n                    onClick={() => handleChecklistClick()}\n                  >\n                    <ListIcon />\n                  </IconButton>\n                  <IconButton\n                    aria-label=\"delete\"\n                    onClick={() => handleDeleteClick(id)}\n                  >\n                    <ClearIcon />\n                  </IconButton>\n                </div>\n              </div>\n            )\n          )}\n      </List>\n\n      {showChecklist && <SimpleChecklist handleClose={handleChecklistClose} />}\n      <Fab\n        className={classes.addEventButton}\n        color=\"primary\"\n        aria-label=\"add\"\n        component={Link}\n        to=\"/events/new\"\n      >\n        <AddIcon />\n      </Fab>\n    </div>\n  );\n};\n\nexport default EventList;\n","/* eslint-disable */\nimport * as Types from '../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type CreateEventMutationVariables = Types.Exact<{\n  name: Types.Scalars['String'];\n  checkpointCount: Types.Scalars['Int'];\n  type: Types.Scalars['Int'];\n}>;\n\n\nexport type CreateEventMutation = { __typename?: 'Mutation', createEvent: { __typename?: 'CreateEventResult', event: { __typename?: 'Event', id: number, name: string, type: number, checkpoint_count: number, created_at: string, updated_at: string } } | null };\n\n\nexport const CreateEventDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"CreateEvent\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}}},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpointCount\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"type\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"createEvent\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}}},{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpointCount\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpointCount\"}}},{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"type\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"type\"}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"event\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"type\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpoint_count\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"created_at\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"updated_at\"}}]}}]}}]}}]} as unknown as DocumentNode<CreateEventMutation, CreateEventMutationVariables>;","import React, { useState } from 'react';\nimport {\n  Button,\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControl,\n  FormControlLabel,\n  FormLabel,\n  makeStyles,\n  Radio,\n  RadioGroup,\n  TextField,\n  Theme,\n  Typography,\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { Field, Form } from 'react-final-form';\nimport { useMutation } from '@apollo/client';\n\nimport {CreateEventDocument} from '../../queries/createEvent';\nimport {GetEventsDocument} from '../../queries/getEvents';\n\ninterface Values {\n  name: string;\n  numCheckpoints: string;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    radioGroupWrapper: {\n      paddingTop: 25,\n      paddingBottom: 10,\n    },\n    title: {\n      paddingBottom: 0,\n    },\n    radioLabel: {\n      fontSize: '0.6rem',\n    },\n  })\n);\n\nconst AddEvent = () => {\n  const [name, setName] = useState('');\n  const [numCheckpoints, setNumCheckpoints] = useState('');\n  const [type, setType] = useState('score');\n\n  const history = useHistory();\n\n  const [createEvent] = useMutation(CreateEventDocument, {\n    refetchQueries: [{ query: GetEventsDocument }],\n    awaitRefetchQueries: true,\n    onCompleted: (data) => {\n      if (data.createEvent?.event) {\n        history.push(`/events/${data.createEvent.event.id}`);\n      }\n    },\n  });\n\n  const classes = useStyles();\n\n  const handleClose = () => {\n    history.push('/');\n  };\n\n  const handleSubmit = () => {\n    const eventTypeId = type === 'score' ? 1 : 2;\n    return createEvent({\n      variables: {\n        name,\n        checkpointCount: parseInt(numCheckpoints, 10),\n        type: eventTypeId,\n      },\n    });\n  };\n\n  return (\n    <Dialog\n      open\n      keepMounted\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-slide-title\"\n      aria-describedby=\"alert-dialog-slide-description\"\n    >\n      <DialogTitle id=\"alert-dialog-slide-title\" className={classes.title}>\n        Create a new event\n      </DialogTitle>\n      <Form<Values>\n        onSubmit={handleSubmit}\n        render={({ handleSubmit }) => {\n          return (\n            <form onSubmit={handleSubmit}>\n              <DialogContent>\n                <Field\n                  name=\"name\"\n                  render={({ input, meta }) => (\n                    <div>\n                      <TextField\n                        id=\"standard-basic\"\n                        label=\"Name\"\n                        required\n                        autoComplete=\"off\"\n                        onChange={(e) => setName(e.target.value)}\n                      />\n                      {meta.touched && meta.error && <span>{meta.error}</span>}\n                    </div>\n                  )}\n                />\n\n                <Field\n                  name=\"points\"\n                  render={({ input, meta }) => (\n                    <div>\n                      <TextField\n                        id=\"standard-basic\"\n                        label=\"Points\"\n                        required\n                        autoComplete=\"off\"\n                        onChange={(e) => setNumCheckpoints(e.target.value)}\n                      />\n                      {meta.touched && meta.error && <span>{meta.error}</span>}\n                    </div>\n                  )}\n                />\n\n                <Field\n                  name=\"type\"\n                  render={() => (\n                    <div className={classes.radioGroupWrapper}>\n                      <FormControl component=\"fieldset\">\n                        <FormLabel component=\"legend\">Type</FormLabel>\n                        <RadioGroup\n                          aria-label=\"type\"\n                          name=\"type\"\n                          value={type}\n                          onChange={(e) => setType(e.target.value)}\n                        >\n                          <FormControlLabel\n                            value=\"score\"\n                            control={<Radio size=\"small\" />}\n                            label={\n                              <Typography variant=\"body2\">Scorelauf</Typography>\n                            }\n                          />\n                          <FormControlLabel\n                            value=\"classic\"\n                            control={<Radio size=\"small\" />}\n                            label={\n                              <Typography variant=\"body2\">Classic</Typography>\n                            }\n                          />\n                        </RadioGroup>\n                      </FormControl>\n                    </div>\n                  )}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n                  Create\n                </Button>\n                <Button onClick={handleClose} color=\"primary\">\n                  Cancel\n                </Button>\n              </DialogActions>\n            </form>\n          );\n        }}\n      />\n    </Dialog>\n  );\n};\n\nexport default AddEvent;\n","import LinearProgress, {\n  LinearProgressProps,\n} from '@material-ui/core/LinearProgress';\nimport { Box, Typography } from \"@material-ui/core\";\n\nfunction LinearProgressWithLabel({\n current,\n max,\n ...props\n}: LinearProgressProps & { current: number; max: number }) {\n  const value = (100 * current) / max;\n\n  return (\n    <Box display=\"flex\" alignItems=\"center\">\n      <Box width=\"100%\" mr={1}>\n        <LinearProgress variant=\"determinate\" {...props} value={value} />\n      </Box>\n      <Box minWidth={35}>\n        <Typography variant=\"body2\" color=\"textSecondary\">\n          {current}/{max}\n        </Typography>\n      </Box>\n    </Box>\n  );\n}\n\nexport default LinearProgressWithLabel\n","import { Box, Typography } from '@material-ui/core';\nimport React from 'react';\nimport {useTranslation} from \"react-i18next\";\n\ninterface Props {\n  scoredIds: number[];\n  max: number;\n}\n\nconst MissingCheckpointsArea = ({ scoredIds, max }: Props) => {\n  const { t } = useTranslation()\n\n  const allPoints = Array(max)\n    .fill(max)\n    .map((_, idx) => 1 + idx);\n  const missingPoints = allPoints.filter((p) => !scoredIds.includes(p));\n\n  if (scoredIds.length === 0 || scoredIds.length === max) {\n    return null;\n  }\n\n  return (\n    <Box mt={3}>\n      <Box minWidth={35} ml={1} mb={1}>\n        <Typography>{t('event.missing_checkpoints')}</Typography>\n      </Box>\n      <Box display=\"flex\" alignItems=\"center\">\n        <Box width=\"100%\" ml={1}>\n          {missingPoints.join(', ')}\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default MissingCheckpointsArea;\n","import {\n  createStyles,\n  IconButton,\n  Theme,\n  makeStyles,\n  Typography,\n} from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport React from 'react';\nimport { Checkpoint } from '../../types/Checkpoint';\n\ninterface Props {\n  checkpoint: Checkpoint;\n  onDelete: (checkpoint: Checkpoint) => void\n  eventId: number;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    wrapper: {\n      width: '100%',\n    },\n    header: {\n      padding: 10,\n      paddingBottom: 2,\n      backgroundColor: '#c5cae9',\n    },\n    content: {\n      border: '1px solid #c5cae9',\n\n      width: '100%',\n      paddingLeft: 10,\n      paddingRight: 10,\n      paddingBottom: 10,\n      padding: 10,\n      boxSizing: 'border-box',\n    },\n    deleteIcon: {\n      position: 'absolute',\n      top: -3,\n      right: -5,\n    },\n  })\n);\n\nconst CheckpointCard = ({ checkpoint, onDelete }: Props) => {\n  const classes = useStyles();\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'row',\n        position: 'relative',\n      }}\n    >\n      <div className={classes.wrapper}>\n        <div className={classes.header}>\n          <Typography variant=\"button\" color=\"textSecondary\">\n            {checkpoint.cp_id}\n          </Typography>\n        </div>\n        <div className={classes.content}>\n          <Typography variant=\"subtitle1\">\n            <span>\n              {checkpoint.skipped\n                ? 'skipped'\n                : checkpoint.cp_code?.toUpperCase()}\n            </span>\n          </Typography>\n        </div>\n      </div>\n      <div className={classes.deleteIcon}>\n        <IconButton\n          aria-label=\"delete\"\n          onClick={() => onDelete(checkpoint)}\n        >\n          <ClearIcon />\n        </IconButton>\n      </div>\n    </div>\n  );\n};\n\nexport default CheckpointCard;\n","import { Box, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { Checkpoint } from '../../types/Checkpoint';\nimport {useTranslation} from \"react-i18next\";\n\ninterface Props {\n  checkpoints: Checkpoint[];\n  max: number;\n}\n\nconst Solution = ({ checkpoints, max }: Props) => {\n  const { t } = useTranslation()\n\n  const seqCheckpointIds = Array(max)\n    .fill(max)\n    .map((_, idx) => 1 + idx);\n\n  const parsedCodes = seqCheckpointIds.map((id: number) => {\n    const matchingCheckpoint = checkpoints.find((ch) => ch.cp_id === id);\n    if (!matchingCheckpoint) {\n      return '...';\n    }\n\n    if (matchingCheckpoint.skipped) {\n      return '???';\n    }\n\n    return matchingCheckpoint.cp_code;\n  });\n\n  return (\n    <Box mt={3}>\n      <Box minWidth={35} ml={1} mb={1}>\n        <Typography variant=\"h6\">{t('event.solution')}</Typography>\n      </Box>\n      <Box display=\"flex\" alignItems=\"center\">\n        <Box width=\"100%\" ml={1}>\n          {parsedCodes.join(' ').toUpperCase()}\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Solution;\n","import React, {Dispatch, ReactNode, useEffect, useReducer} from 'react'\n\nexport interface Checkpoint {\n  cpId: number\n  cpCode?: string\n  skipped: boolean\n  skipReason?: string\n  error?: Error\n}\n\nexport interface QueueItem {\n  checkpoint: Checkpoint\n  eventId: number\n}\n\nexport interface ErroredQueueItem extends QueueItem {\n  error: Error\n}\n\ntype Action = {\n  type: 'add',\n  checkpoint: Checkpoint\n  eventId: number\n} | {\n  type: 'delete'\n  id: number\n  eventId: number\n} | {\n  type: 'errored'\n  checkpoint: Checkpoint\n  eventId: number\n  error: Error\n}\n\ninterface State {\n  queue: QueueItem[]\n  errored: ErroredQueueItem[]\n}\n\nexport const CheckpointsStateContext = React.createContext<State>({ queue: [], errored: [] })\nexport const CheckpointsDispatchContext = React.createContext<Dispatch<Action>>(() => {})\n\nconst reducer = (state: State, action: Action): State => {\n  switch(action.type) {\n    case 'add':\n      return { ...state, queue: [...state.queue, { checkpoint: action.checkpoint, eventId: action.eventId}] }\n    case 'delete':\n      return {\n        ...state,\n        queue: state.queue.filter(item => item.eventId !== action.eventId || item.checkpoint.cpId !== action.id),\n        errored: state.errored.filter(item => item.eventId !== action.eventId || item.checkpoint.cpId !== action.id)\n      }\n    case 'errored':\n      return {\n        ...state,\n        queue: state.queue.filter(item => item.eventId !== action.eventId || item.checkpoint.cpId !== action.checkpoint.cpId),\n        errored: [...state.errored, { error: action.error, eventId: action.eventId, checkpoint: { ...action.checkpoint }}]\n      }\n  }\n  return state\n}\n\nconst CheckpointsService = ({ children }: { children: ReactNode }) => {\n  const [state, dispatch] = useReducer(reducer, { queue: [], errored: [] }, initialValue => {\n    const value = localStorage.getItem('checkpointsServiceStorage')\n\n    if (!value) {\n      return initialValue\n    }\n\n    try {\n      const storedValue = JSON.parse(value)\n\n     return { queue: [...storedValue.queue, ...storedValue.errored], errored: [] }\n    } catch {\n      return initialValue\n    }\n  })\n\n  useEffect(() => {\n    localStorage.setItem('checkpointsServiceStorage', JSON.stringify(state))\n  }, [state])\n\n  return (\n    <CheckpointsDispatchContext.Provider value={dispatch}>\n      <CheckpointsStateContext.Provider value={state}>\n          {children}\n      </CheckpointsStateContext.Provider>\n    </CheckpointsDispatchContext.Provider>\n\n  )\n}\n\nexport default CheckpointsService\n","/* eslint-disable */\nimport * as Types from '../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type DeleteCheckpointMutationVariables = Types.Exact<{\n  id: Types.Scalars['Int'];\n}>;\n\n\nexport type DeleteCheckpointMutation = { __typename?: 'Mutation', deleteCheckpoint: { __typename?: 'DeleteCheckpointResult', id: number } };\n\n\nexport const DeleteCheckpointDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"DeleteCheckpoint\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"deleteCheckpoint\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}]}}]}}]} as unknown as DocumentNode<DeleteCheckpointMutation, DeleteCheckpointMutationVariables>;","import React from 'react'\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Box from \"@material-ui/core/Box\";\nimport Chip from \"@material-ui/core/Chip\";\nimport {Link as RouterLink} from \"react-router-dom\";\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\n\nconst Participants = ({ list, eventId }: { list: {id: string, name: string}[], eventId: number}) => {\n  return (\n    <div>\n      <Box style={{ display: 'flex', alignItems: 'center' }}>\n        {list.map((user, index) => (\n          <Box key={user.id} mr={1}>\n            <Chip label={user.name} size='small' variant='outlined' />\n          </Box>\n        ))}\n        <IconButton aria-label=\"add\" component={RouterLink} to={`/events/${eventId}/invite`}>\n          <PersonAddIcon />\n        </IconButton>\n      </Box>\n    </div>\n  )\n}\n\nexport default Participants\n","import {\n  Box,\n  createStyles,\n  Fab,\n  Grid,\n  GridSpacing,\n  makeStyles,\n  Paper,\n  Theme,\n  Typography,\n} from '@material-ui/core';\nimport React, {useContext} from 'react';\nimport LinearProgressWithLabel from '../../../../components/LinearProgressWithLabel/LinearProgressWithLabel'\nimport { OrienteeringEvent } from '../../../../types/OrienteeringEvent';\n\nimport AddIcon from '@material-ui/icons/Add';\nimport { Link } from 'react-router-dom';\nimport MissingCheckpointsArea from '../../../../components/MissingCheckpointsArea/MissingCheckpointsArea';\nimport CheckpointCard from '../../../../components/CheckpointCard/CheckpointCard';\nimport Solution from '../../../../components/Solution/Solution';\nimport {CheckpointsDispatchContext} from \"../../../../components/CheckpointsService/CheckpointsService\";\nimport {useMutation} from \"@apollo/client\";\nimport {Checkpoint} from \"../../../../types/Checkpoint\";\nimport {DeleteCheckpointDocument} from \"../../../../queries/deleteCheckpoint\";\nimport Participants from \"../../../../components/Participants/Participants\";\n\n\ninterface Props {\n  event: OrienteeringEvent;\n  newCheckpointPath: string;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n      padding: 20,\n    },\n    paper: {\n      width: 80,\n    },\n    item: {\n      padding: 5,\n    },\n    pendingItem: {\n      opacity: 0.7\n    },\n    control: {\n      padding: theme.spacing(2),\n    },\n    addCheckpointButton: {\n      position: 'absolute',\n      right: '1em',\n      bottom: '1em',\n    },\n  })\n);\n\nconst ScoreLauf = ({ event, newCheckpointPath }: Props) => {\n  const checkpoints = event.checkpoints;\n\n  const [spacing] = React.useState<GridSpacing>(2);\n\n  const classes = useStyles();\n\n  const dispatch = useContext(CheckpointsDispatchContext)\n  const [deleteCheckpoint] = useMutation(DeleteCheckpointDocument, {\n    refetchQueries: ['getEvent'],\n    awaitRefetchQueries: true,\n  });\n\n  const handleDeleteClick = (checkpoint: Checkpoint) => {\n    if (checkpoint.pending) {\n      return dispatch({\n        type: 'delete',\n        eventId: event.id,\n        id: checkpoint.cp_id\n      })\n    }\n\n    return deleteCheckpoint({ variables: { id: checkpoint.id } });\n  };\n\n  return (\n    <Box m={1}>\n      <Typography variant=\"h6\">{event.name}</Typography>\n\n      <Participants\n        list={event.participants}\n        eventId={event.id}\n      />\n\n      <LinearProgressWithLabel\n        current={checkpoints.length}\n        max={event.checkpoint_count}\n      />\n\n      {checkpoints.length > 0 && (\n        <Grid container className={classes.root} spacing={2}>\n          <Grid item xs={12}>\n            <Grid container justify=\"flex-start\" spacing={spacing}>\n              {checkpoints.map((checkpoint) => (\n                <Grid key={checkpoint.cp_id} item className={[classes.item].concat(checkpoint.pending ? [classes.pendingItem] : []).join(' ')}>\n                  <Paper className={classes.paper}>\n                    <CheckpointCard\n                      checkpoint={checkpoint}\n                      eventId={event.id}\n                      onDelete={handleDeleteClick}\n                    />\n                  </Paper>\n                </Grid>\n              ))}\n            </Grid>\n          </Grid>\n        </Grid>\n      )}\n\n      <Fab\n        className={classes.addCheckpointButton}\n        color=\"primary\"\n        aria-label=\"add\"\n        component={Link}\n        to={newCheckpointPath}\n      >\n        <AddIcon />\n      </Fab>\n      <MissingCheckpointsArea\n        scoredIds={checkpoints.map((ch) => ch.cp_id)}\n        max={event.checkpoint_count}\n      />\n      <Solution checkpoints={checkpoints} max={event.checkpoint_count} />\n    </Box>\n  );\n};\n\nexport default ScoreLauf;\n","import React, {useCallback, useState, useEffect} from 'react'\nimport LinearProgressWithLabel from '../LinearProgressWithLabel/LinearProgressWithLabel'\nimport {OrienteeringEvent} from \"../../types/OrienteeringEvent\";\nimport {Fab, makeStyles, createStyles, Theme} from \"@material-ui/core\";\nimport AddIcon from '@material-ui/icons/Add';\n\ninterface VirtualChallenge {\n  id: number\n}\n\ninterface Props {\n  event: OrienteeringEvent\n  virtualChallenge: VirtualChallenge\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n      padding: 20,\n    },\n    addCheckpointButton: {\n      position: 'absolute',\n      right: '1em',\n      bottom: '1em'\n    },\n  })\n);\n\nfunction useUserLocation(): [() => void, { loading: boolean, position: GeolocationPosition | null }] {\n  const [active, setActive] = useState(false)\n  const [position, setPosition] = useState<GeolocationPosition | null>(null)\n\n  useEffect(() => {\n    if (!active) {\n      return\n    }\n\n    let cancelled = false\n\n    const geoSuccess = function(position: GeolocationPosition) {\n      if (cancelled) {\n        return\n      }\n      // hideNudgeBanner();\n      // clearTimeout(nudgeTimeoutId);\n\n      setActive(false)\n      setPosition(position)\n    }\n\n    const geoError = function(error: GeolocationPositionError) {\n      if (cancelled) {\n        return\n      }\n\n      setActive(false)\n\n      switch(error.code) {\n        case error.TIMEOUT:\n          // The user didn't accept the callout\n          // showNudgeBanner();\n          break;\n      }\n    }\n\n    navigator.geolocation.getCurrentPosition(geoSuccess, geoError, { enableHighAccuracy: true })\n\n    return () => {\n      cancelled = true\n    }\n  }, [active, setPosition])\n\n  const read = useCallback(() => {\n    setActive(true)\n  }, [setActive])\n\n  return [read, { position, loading: active }]\n}\n\n\nconst VirtualEvent = ({ event, virtualChallenge }: Props) => {\n  const { checkpoints } = event\n\n  const classes = useStyles()\n  const [readLocation, { position, loading }] = useUserLocation()\n\n  useEffect(() => {\n    if (!position) {\n      return\n    }\n\n    console.log(position)\n  }, [position])\n\n  return (\n    <div>\n      <LinearProgressWithLabel\n        current={checkpoints.length}\n        max={event.checkpoint_count}\n      />\n\n      <Fab\n        className={classes.addCheckpointButton}\n        color=\"primary\"\n        aria-label=\"add\"\n        disabled={loading}\n        onClick={() => { readLocation() }}\n      >\n        <AddIcon />\n      </Fab>\n    </div>\n  )\n\n}\nexport default VirtualEvent\n","/* eslint-disable */\nimport * as Types from '../../../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type GetEventQueryVariables = Types.Exact<{\n  id: Types.Scalars['Int'];\n}>;\n\n\nexport type GetEventQuery = { __typename?: 'Query', event: { __typename?: 'Event', id: number, name: string, type: number, invite_token: string | null, checkpoint_count: number, created_at: string, virtual_challenge: { __typename?: 'EventVirtualChallenge', id: number } | null, participants: Array<{ __typename?: 'User', id: string, name: string }>, checkpoints: Array<{ __typename?: 'Checkpoint', id: number, cp_id: number, cp_code: string | null, event_id: number, skipped: boolean, skip_reason: string | null }> } | null };\n\n\nexport const GetEventDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"getEvent\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"event\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"type\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"invite_token\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpoint_count\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"created_at\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"virtual_challenge\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}]}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"participants\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}}]}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpoints\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"cp_id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"cp_code\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"event_id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"skipped\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"skip_reason\"}}]}}]}}]}}]} as unknown as DocumentNode<GetEventQuery, GetEventQueryVariables>;","/* eslint-disable */\nimport * as Types from '../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type CreateCheckpointMutationVariables = Types.Exact<{\n  eventId: Types.Scalars['Int'];\n  cpId: Types.Scalars['Int'];\n  cpCode: Types.Maybe<Types.Scalars['String']>;\n  skipped: Types.Maybe<Types.Scalars['Boolean']>;\n  skipReason: Types.Maybe<Types.Scalars['String']>;\n}>;\n\n\nexport type CreateCheckpointMutation = { __typename?: 'Mutation', createCheckpoint: { __typename?: 'CreateCheckpointResult', checkpoint: { __typename?: 'Checkpoint', id: number, event_id: number, cp_id: number, cp_code: string | null, skipped: boolean, skip_reason: string | null, created_at: string, updated_at: string } | null } };\n\n\nexport const CreateCheckpointDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"CreateCheckpoint\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"eventId\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"cpId\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"cpCode\"}},\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"skipped\"}},\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Boolean\"}}},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"skipReason\"}},\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"createCheckpoint\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"event_id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"eventId\"}}},{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"cp_id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"cpId\"}}},{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"cp_code\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"cpCode\"}}},{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"skipped\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"skipped\"}}},{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"skip_reason\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"skipReason\"}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpoint\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"event_id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"cp_id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"cp_code\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"skipped\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"skip_reason\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"created_at\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"updated_at\"}}]}}]}}]}}]} as unknown as DocumentNode<CreateCheckpointMutation, CreateCheckpointMutationVariables>;","import React from 'react';\nimport { Checkpoint } from '../../types/Checkpoint';\nimport {\n  Button,\n  Checkbox,\n  createStyles,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  makeStyles,\n  Theme,\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { CreateCheckpointDocument } from '../../queries/createCheckpoint';\nimport { DeleteCheckpointDocument } from '../../queries/deleteCheckpoint';\n\ninterface Props {\n  id: number;\n  checkpoint?: Checkpoint;\n  eventId: number;\n}\n\ninterface Values {\n  eventId: number;\n  cpId: number;\n  cpCode?: string;\n  skipped?: boolean;\n  skipReason?: string;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    skippedText: {\n      fontStyle: 'italic',\n    },\n  })\n);\n\nconst CheckpointListItem = ({ id, checkpoint, eventId }: Props) => {\n  const labelId = `checkbox-list-label-${id}`;\n\n  const history = useHistory();\n\n  const [createCheckpoint, { loading: creationLoading, error: creationError }] =\n    useMutation<any, Values>(CreateCheckpointDocument, {\n      refetchQueries: ['getEvent'],\n      awaitRefetchQueries: true,\n      onCompleted: (data) => {\n        history.push(`/events/${data.createCheckpoint.checkpoint.event_id}`);\n      },\n    });\n\n  const [deleteCheckpoint] = useMutation(DeleteCheckpointDocument, {\n    refetchQueries: ['getEvent'],\n    awaitRefetchQueries: true,\n  });\n\n  const handleToggle = (value: number) => {\n    if (checkpoint) {\n      return deleteCheckpoint({ variables: { id: checkpoint.id } });\n    }\n\n    try {\n      return createCheckpoint({\n        variables: {\n          eventId,\n          cpId: value,\n          cpCode: undefined,\n          skipped: false,\n          skipReason: undefined,\n        },\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  const handleSkipClick = (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n    checkpointId: number\n  ) => {\n    e.stopPropagation();\n\n    try {\n      return createCheckpoint({\n        variables: {\n          eventId,\n          cpId: checkpointId,\n          cpCode: undefined,\n          skipped: true,\n          skipReason: undefined,\n        },\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  const classes = useStyles();\n\n  if (creationLoading) {\n    return <p>Loading...</p>;\n  }\n\n  if (creationError) {\n    return <p>Error :(</p>;\n  }\n\n  const skipButton = !checkpoint && (\n    <Button variant=\"contained\" onClick={(e) => handleSkipClick(e, id)}>\n      Skip\n    </Button>\n  );\n\n  const skippedText = checkpoint && checkpoint.skipped && (\n    <span className={classes.skippedText}>skipped</span>\n  );\n\n  return (\n    <ListItem\n      key={id}\n      role={undefined}\n      dense\n      button\n      onClick={() => handleToggle(id)}\n    >\n      <ListItemIcon>\n        <Checkbox\n          edge=\"start\"\n          checked={checkpoint != null}\n          tabIndex={-1}\n          disableRipple\n          inputProps={{ 'aria-labelledby': labelId }}\n        />\n      </ListItemIcon>\n      <ListItemText id={labelId} primary={id} />\n      {skippedText}\n      {skipButton}\n    </ListItem>\n  );\n};\n\nexport default CheckpointListItem;\n","import { Box, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { OrienteeringEvent } from '../../../../types/OrienteeringEvent';\nimport MissingCheckpointsArea from '../../../../components/MissingCheckpointsArea/MissingCheckpointsArea';\nimport LinearProgressWithLabel from '../../../../components/LinearProgressWithLabel/LinearProgressWithLabel';\nimport CheckpointListItem from '../../../../components/CheckpointListItem/CheckpointListItem';\nimport Participants from \"../../../../components/Participants/Participants\";\n\ninterface Props {\n  event: OrienteeringEvent;\n}\n\nconst Classic = ({ event }: Props) => {\n  const { id, name, checkpoints, checkpoint_count } = event;\n\n  const allPoints = Array(checkpoint_count)\n    .fill(checkpoint_count)\n    .map((_, idx) => 1 + idx);\n\n  return (\n    <Box m={1}>\n      <Typography variant=\"h6\">{name}</Typography>\n\n      <Participants\n        list={event.participants}\n        eventId={event.id}\n      />\n\n      <LinearProgressWithLabel\n        current={checkpoints.length}\n        max={checkpoint_count}\n      />\n      {allPoints.map((p) => {\n        const matchingPoint = checkpoints.find((ch) => ch.cp_id === p);\n\n        return (\n          <CheckpointListItem\n            id={p}\n            key={p}\n            checkpoint={matchingPoint}\n            eventId={id}\n          />\n        );\n      })}\n\n      <MissingCheckpointsArea\n        scoredIds={checkpoints.map((ch) => ch.cp_id)}\n        max={event.checkpoint_count}\n      />\n    </Box>\n  );\n};\n\nexport default Classic;\n","import React, { ReactNode } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { useParams, Link as RouterLink } from 'react-router-dom';\nimport ContentLoader from \"react-content-loader\"\nimport ScoreLauf from './components/ScoreLauf/ScoreLauf';\nimport VirtualEvent from '../../components/VirtualEvent/VirtualEvent';\nimport {GetEventDocument, GetEventQuery} from './data/getEvent';\nimport { useInitialNavigation } from '../../hooks/useInitialNavigation';\nimport { Box, Breadcrumbs, Link, Typography } from '@material-ui/core';\nimport EventIcon from '@material-ui/icons/Event';\nimport { useBreadcrumbStyles } from '../../hooks/useBreadcrumbStyles';\nimport LoadingIndicator from '../../components/LoadingIndicator/LoadingIndicator';\nimport Classic from './components/Classic/Classic';\nimport {useEventQueue} from \"../../components/CheckpointsService/useEventQueue\";\nimport {QueueItem} from \"../../components/CheckpointsService/CheckpointsService\";\nimport {useTranslation} from \"react-i18next\";\n\nconst EVENT_TYPES = {\n  SCORE: 1,\n  CLASSIC: 2,\n};\n\nconst Loader = ({ children, width, height } : { width: number, height: number, children: ReactNode }) => (\n  <ContentLoader\n    speed={2}\n    width={width}\n    height={height}\n    viewBox={`0 0 ${width} ${height}`}\n    backgroundColor=\"#eeeeee\"\n    foregroundColor=\"#cccccc\"\n  >\n    {children}\n  </ContentLoader>\n)\n\nfunction mergeCheckpoints(event: GetEventQuery['event'] | undefined, items: QueueItem['checkpoint'][]) {\n  if (!event) {\n    return event\n  }\n\n  return {\n    ...event,\n    checkpoints: [\n      ...event.checkpoints,\n      ...items.map(item => ({\n        id: 0,\n        cp_id: item.cpId,\n        cp_code: item.cpCode ?? null,\n        skipped: item.skipped,\n        skip_reason: item.skipReason ?? null,\n        pending: true,\n        error: item.error\n      }))\n    ]\n  }\n}\n\nconst EventPage = () => {\n  const { t } = useTranslation()\n  const { id } = useParams<{ id: string }>();\n  const items = useEventQueue(parseInt(id, 10))\n\n  const classes = useBreadcrumbStyles();\n  const isInitialNavigation = useInitialNavigation();\n\n  const { loading, error, data } = useQuery(GetEventDocument, {\n    variables: { id: parseInt(id, 10) },\n    fetchPolicy: isInitialNavigation ? 'cache-and-network' : undefined,\n    nextFetchPolicy: isInitialNavigation ? 'cache-first' : undefined,\n  })\n\n  const event = mergeCheckpoints(data?.event, items)\n\n  if (loading && !data) {\n    return (\n      <div>\n        <Box px={1} py={2}>\n          <Breadcrumbs aria-label=\"breadcrumb\">\n            <Link\n              color=\"inherit\"\n              component={RouterLink}\n              to=\"/\"\n              className={classes.link}\n            >\n              <EventIcon className={classes.icon} />\n              {t('navigation.events')}\n            </Link>\n          </Breadcrumbs>\n        </Box>\n\n        <Box px={1} py={2}>\n          <Loader width={300} height={500}>\n            <rect x=\"0\" y=\"0\" rx=\"3\" ry=\"3\" width=\"45\" height=\"12\" />\n            <rect x=\"0\" y=\"20\" rx=\"3\" ry=\"3\" width=\"250\" height=\"3\" />\n            <rect x=\"30\" y=\"40\" rx=\"3\" ry=\"3\" width=\"80\" height=\"80\" />\n            <rect x=\"130\" y=\"40\" rx=\"3\" ry=\"3\" width=\"80\" height=\"80\" />\n            <rect x=\"0\" y=\"190\" rx=\"3\" ry=\"3\" width=\"45\" height=\"12\" />\n            <rect x=\"0\" y=\"220\" rx=\"3\" ry=\"3\" width=\"100\" height=\"10\" />\n            <rect x=\"0\" y=\"240\" rx=\"3\" ry=\"3\" width=\"100\" height=\"10\" />\n            <rect x=\"0\" y=\"260\" rx=\"3\" ry=\"3\" width=\"100\" height=\"10\" />\n\n          </Loader>\n        </Box>\n      </div>\n    )\n  }\n\n  if (!event) {\n    return <div>Not found</div>\n  }\n\n  const eventContent =\n    event.type === EVENT_TYPES.SCORE ? (\n      <ScoreLauf\n        event={event}\n        newCheckpointPath={`/events/${event.id}/add-checkpoint`}\n      />\n    ) : (\n      <Classic event={event} />\n    );\n\n  return (\n    <div>\n      <Box px={1} py={2}>\n        <Breadcrumbs aria-label=\"breadcrumb\">\n          <Link\n            color=\"inherit\"\n            component={RouterLink}\n            to=\"/\"\n            className={classes.link}\n          >\n            <EventIcon className={classes.icon} />\n            {t('navigation.events')}\n          </Link>\n          <Typography color=\"textPrimary\">{event.name}</Typography>\n        </Breadcrumbs>\n      </Box>\n\n      <LoadingIndicator active={loading} />\n\n      {error && <p>Error :(</p>}\n\n      {(event.type === 3 && event.virtual_challenge) ? (\n        <VirtualEvent\n          event={event}\n          virtualChallenge={event.virtual_challenge}\n        />\n      ) : eventContent}\n    </div>\n  );\n};\n\nexport default EventPage;\n","import {useContext} from \"react\";\nimport {CheckpointsStateContext, Checkpoint} from \"./CheckpointsService\";\n\n\nexport function useEventQueue(eventId: number): Checkpoint[] {\n  const { queue, errored } = useContext(CheckpointsStateContext)\n\n  return [\n    ...queue.filter(item => item.eventId === eventId),\n    ...errored.filter(item => item.eventId === eventId).map(item => ({...item, checkpoint: { ...item.checkpoint, error: item.error}}))\n  ].map(item => item.checkpoint)\n}\n","/* eslint-disable */\nimport * as Types from '../../../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type GetFriendsQueryVariables = Types.Exact<{ [key: string]: never; }>;\n\n\nexport type GetFriendsQuery = { __typename?: 'Query', me: { __typename?: 'Me', friends: Array<{ __typename?: 'User', id: string, name: string }> } | null };\n\n\nexport const GetFriendsDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"GetFriends\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"me\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"friends\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}}]}}]}}]}}]} as unknown as DocumentNode<GetFriendsQuery, GetFriendsQueryVariables>;","/* eslint-disable */\nimport * as Types from '../../../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type InviteToEventMutationVariables = Types.Exact<{\n  eventId: Types.Scalars['String'];\n  friendId: Types.Scalars['String'];\n}>;\n\n\nexport type InviteToEventMutation = { __typename?: 'Mutation', inviteToEvent: { __typename?: 'InviteToEventPayload', success: boolean, event: { __typename?: 'Event', id: number, participants: Array<{ __typename?: 'User', id: string, name: string }> } | null } | null };\n\n\nexport const InviteToEventDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"InviteToEvent\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"eventId\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}}},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"friendId\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"inviteToEvent\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"eventId\"}}},{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"friendId\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"friendId\"}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"success\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"event\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"participants\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}}]}}]}}]}}]}}]} as unknown as DocumentNode<InviteToEventMutation, InviteToEventMutationVariables>;","import React, {ReactNode} from 'react'\nimport {useTranslation} from \"react-i18next\";\nimport {Link as RouterLink, useParams} from \"react-router-dom\";\nimport {Box, Breadcrumbs, Link, Typography} from \"@material-ui/core\";\nimport EventIcon from \"@material-ui/icons/Event\";\nimport {useMutation, useQuery} from \"@apollo/client\";\nimport {GetEventDocument} from \"../EventPage/data/getEvent\";\nimport {GetFriendsDocument} from \"./data/getFriends\";\nimport {InviteToEventDocument} from \"./data/invite\";\nimport {useBreadcrumbStyles} from \"../../hooks/useBreadcrumbStyles\";\nimport {useInitialNavigation} from \"../../hooks/useInitialNavigation\";\nimport ContentLoader from \"react-content-loader\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport LoadingIndicator from \"../../components/LoadingIndicator/LoadingIndicator\";\nimport Button from \"@material-ui/core/Button\";\n\nconst Loader = ({ children, width, height } : { width: number, height: number, children: ReactNode }) => (\n  <ContentLoader\n    speed={2}\n    width={width}\n    height={height}\n    viewBox={`0 0 ${width} ${height}`}\n    backgroundColor=\"#eeeeee\"\n    foregroundColor=\"#cccccc\"\n  >\n    {children}\n  </ContentLoader>\n)\n\nconst EventInvitePage = () => {\n  const { t } = useTranslation()\n  const { id } = useParams<{ id: string }>()\n\n  const classes = useBreadcrumbStyles()\n  const isInitialNavigation = useInitialNavigation()\n\n  const { loading, data } = useQuery(GetEventDocument, {\n    variables: { id: parseInt(id, 10) },\n    fetchPolicy: isInitialNavigation ? 'cache-and-network' : undefined,\n    nextFetchPolicy: isInitialNavigation ? 'cache-first' : undefined,\n  })\n\n  const { data: friendsData } = useQuery(GetFriendsDocument, {\n    fetchPolicy: isInitialNavigation ? 'cache-and-network' : undefined,\n    nextFetchPolicy: isInitialNavigation ? 'cache-first' : undefined\n  })\n\n  const [invite] = useMutation(InviteToEventDocument)\n\n  if (loading && !data) {\n    return (\n      <div>\n        <Box px={1} py={2}>\n          <Breadcrumbs aria-label=\"breadcrumb\">\n            <Link\n              color=\"inherit\"\n              component={RouterLink}\n              to=\"/\"\n              className={classes.link}\n            >\n              <EventIcon className={classes.icon} />\n              {t('navigation.events')}\n            </Link>\n          </Breadcrumbs>\n        </Box>\n\n        <Box px={1} py={2}>\n          <Loader width={300} height={500}>\n            <rect x=\"0\" y=\"0\" rx=\"3\" ry=\"3\" width=\"45\" height=\"12\" />\n            <rect x=\"0\" y=\"20\" rx=\"3\" ry=\"3\" width=\"250\" height=\"3\" />\n            <rect x=\"30\" y=\"40\" rx=\"3\" ry=\"3\" width=\"80\" height=\"80\" />\n            <rect x=\"130\" y=\"40\" rx=\"3\" ry=\"3\" width=\"80\" height=\"80\" />\n            <rect x=\"0\" y=\"190\" rx=\"3\" ry=\"3\" width=\"45\" height=\"12\" />\n            <rect x=\"0\" y=\"220\" rx=\"3\" ry=\"3\" width=\"100\" height=\"10\" />\n            <rect x=\"0\" y=\"240\" rx=\"3\" ry=\"3\" width=\"100\" height=\"10\" />\n            <rect x=\"0\" y=\"260\" rx=\"3\" ry=\"3\" width=\"100\" height=\"10\" />\n\n          </Loader>\n        </Box>\n      </div>\n    )\n  }\n\n  const event = data?.event\n\n  if (!event) {\n    return <div>Not found</div>\n  }\n\n  const inviteUrl = `${window.location.protocol}//${window.location.host}/join/${event.id}?token=${event.invite_token}`\n\n  const handleClick = () => {\n    try {\n      window.navigator.clipboard.writeText(inviteUrl)\n    } catch {\n\n    }\n  }\n\n  return (\n    <div>\n      <Box px={1} py={2}>\n        <Breadcrumbs aria-label=\"breadcrumb\">\n          <Link\n            color=\"inherit\"\n            component={RouterLink}\n            to=\"/\"\n            className={classes.link}\n          >\n            <EventIcon className={classes.icon} />\n            {t('navigation.events')}\n          </Link>\n          <Link\n            color=\"inherit\"\n            component={RouterLink}\n            to={`/events/${event.id}`}\n            className={classes.link}\n          >\n            {event.name}\n          </Link>\n          <Typography color=\"textPrimary\">Invite</Typography>\n        </Breadcrumbs>\n      </Box>\n\n      <LoadingIndicator active={loading} />\n\n      <Box>\n        <IconButton aria-label=\"add\" onClick={handleClick}>\n          <PersonAddIcon />\n        </IconButton>\n        {t('event.actions.invite')}\n      </Box>\n\n      <Box p={2}>\n        {t('event.actions.inviteFriend')}\n\n        <Box mt={1}>\n          {friendsData?.me?.friends.map(friend => (\n            <Button key={friend.id} onClick={() => invite({ variables: { eventId: event.id.toString(), friendId: friend.id }})}>\n              + {friend.name}\n            </Button>\n          ))}\n        </Box>\n\n      </Box>\n    </div>\n  )\n}\n\nexport default EventInvitePage\n","import React, {useContext} from 'react';\nimport { Form, Field } from 'react-final-form';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Box, Button, TextField } from '@material-ui/core';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { useHistory, useParams } from 'react-router-dom';\nimport {CheckpointsDispatchContext} from \"../../components/CheckpointsService/CheckpointsService\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    margin: {\n      margin: theme.spacing(1),\n    },\n  })\n);\n\ninterface Values {\n  eventId: number;\n  cpId: number;\n  cpCode?: string;\n  skipped?: boolean;\n  skipReason?: string;\n}\n\nconst AddCheckpointPage = () => {\n  const { id: eventId } = useParams<{ id: string }>();\n\n  const history = useHistory();\n  const dispatch = useContext(CheckpointsDispatchContext)\n\n  const handleCheckpointSubmit = (checkpoint: any) => {\n      dispatch({\n        type: 'add',\n        eventId: parseInt(eventId, 10),\n        checkpoint: {\n          cpId: parseInt(checkpoint.cpId, 10),\n          cpCode: checkpoint.cpCode,\n          skipped: checkpoint.skipped,\n          skipReason: checkpoint.skipReason\n        }\n      });\n    history.push(`/events/${eventId}`)\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Form<Values>\n      onSubmit={handleCheckpointSubmit}\n      initialValues={{ skipped: false }}\n      render={({ values, submitError, handleSubmit }) => {\n        if (values.skipped) {\n          delete values.cpCode;\n        }\n\n        return (\n          <form onSubmit={handleSubmit}>\n            <Field\n              name=\"cpId\"\n              render={({ input, meta }) => (\n                <div className={classes.margin}>\n                  <TextField\n                    {...input}\n                    label=\"Id\"\n                    required\n                    autoComplete=\"off\"\n                  />\n                  {meta.touched && (meta.error || meta.submitError) && (\n                    <span>{meta.error || meta.submitError}</span>\n                  )}\n                </div>\n              )}\n            />\n\n            <Field\n              name=\"cpCode\"\n              render={({ input, meta }) => (\n                <div className={classes.margin}>\n                  <TextField\n                    {...input}\n                    label=\"Code\"\n                    required={!values.skipped}\n                    disabled={values.skipped}\n                    autoComplete=\"off\"\n                  />\n                  {meta.touched && (meta.error || meta.submitError) && (\n                    <span>{meta.error || meta.submitError}</span>\n                  )}\n                </div>\n              )}\n            />\n\n            <Field\n              name=\"skipped\"\n              type=\"checkbox\"\n              render={({ input, meta }) => (\n                <Box display=\"flex\" alignItems=\"center\" ml={1}>\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        {...input}\n                        checked={input.value}\n                        name=\"skipped\"\n                        color=\"primary\"\n                      />\n                    }\n                    label=\"Skip\"\n                  />\n                </Box>\n              )}\n            />\n\n            <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n              Submit\n            </Button>\n          </form>\n        );\n      }}\n    />\n  )\n}\n\nexport default AddCheckpointPage;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADB/VeXAAACH0lEQVRIDbWWPU8bQRCGZ/bsJHKDROIiJh0dFESyRRKlpggWWPkNFhUSLSWiRK6pIn6DfSCSInWUgBwpFEnnKkCBAxIUFnDcDvOusGXZTrJHLltYt3czz+zHzDtm+sM4ffH+WRxfV4i4TCSTJFRw5kzH+q6l73aD4EH4eG/+8HcYHvWh/TosyKWsC/NbFtkxFIQSmB+SyylY0Z1OgSmatjEtqs2C2tT5Ea/lP1Xc937mUIB2KVy0RFss9C5DuY3xr3Pn/Q6Dz2fFj2M31FkVpiVDVM03K9uDNr35SbGxclJq/GzPhqXeS88H+MAXjH6X3g6wciHZNNng5ZPPC0f9Rr7Pv17tTNgo/sLEy92duAA4c3tFB8bQm/x+pekLHGWHnVhLH8xDmsGd6LFpLuiF4sz/FQ4WGGCBiTkjFW/i6FtWcpN/u1A4+AxcfMSdVibIPjfIc6RiWnAsACwwwdYj4jLy3GdlSWxMQJquYGuFooiSOPvYCmW/g21Q/t0K9XH0tXFMZbss8nVKYsfRhSsBQypc0JYkzl62UeYp2LjkFsd2ysspgRHEEGxc8q6lWCU53QGlBdtAzyG5KI60QoAFJtgGzQJ6DslNKwBYYILtsgjNAnp+H5keXBQYYIGJby7AnepVxUodkjvo5DuHLxgKrXa7mwsAgNNvoRr0/D47cTKtvlq4tW4vALfXcDDBSLtlDgVwQf5n03fbuPtJ42/LLeEvKdWYGdgZAAAAAElFTkSuQmCC\"","import React, { useRef, useEffect, useState } from 'react'\nimport * as L from 'leaflet'\n\nimport oval from '../../assets/oval.png'\n\nconst checkpointIcon = L.icon({\n  iconUrl: oval,\n  shadowUrl: oval,\n\n  iconSize:     [24, 24], // size of the icon\n  shadowSize:   [24, 24], // size of the shadow\n  iconAnchor:   [12, 12], // point of the icon which will correspond to marker's location\n  shadowAnchor: [12, 12],  // the same for the shadow\n  popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor\n})\n\ninterface Coords {\n  lat: number\n  lng: number\n}\n\ninterface Props {\n  startPoint: [number, number] | null\n  initialPoint: [number, number]\n  range: number\n  checkpoints?: Coords[]\n  onDrag: (coords: Coords) => void\n  onClick: (coords: Coords) => void\n  onChange: (points: Coords[]) => void\n}\n\nconst Map = ({ initialPoint, startPoint, range, checkpoints, onDrag, onClick, onChange }: Props) => {\n  const mapRef = useRef<L.Map | null>(null)\n  const circleRef = useRef<L.Circle | null>(null)\n  const [dragging, setDragging] = useState(false)\n\n  useEffect(() => {\n    const map = L.map('mapid').setView(initialPoint, 13)\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors,',\n      maxZoom: 18,\n      id: 'osm/streets',\n      tileSize: 512,\n      zoomOffset: -1\n    }).addTo(map)\n\n    mapRef.current = map\n\n    return () => {\n      map.off()\n      map.remove()\n    }\n  }, [initialPoint])\n\n  useEffect(() => {\n    const map = mapRef.current\n\n    if (!map) {\n      return\n    }\n\n    const callback = (e: L.LeafletEvent) => {\n      // @ts-ignore\n      const position = e.latlng\n      onClick(position)\n    }\n\n    map.on('click', callback)\n\n    return () => {\n      map.off('click', callback)\n    }\n  }, [onClick, mapRef])\n\n  useEffect(() => {\n    const map = mapRef.current\n\n    if (!startPoint || !map) {\n      return\n    }\n\n    const circle = L.circle(startPoint, {\n      color: 'red',\n      opacity: 0.5,\n      fillColor: '#fff',\n      fillOpacity: 0.2,\n      radius: 500\n    }).addTo(map)\n\n    const marker = L.marker(startPoint, { draggable: true })\n\n    marker.on('dragstart', event => {\n      setDragging(true)\n    })\n\n    marker.on('dragend', event => {\n      setDragging(false)\n    })\n\n    marker.on('dragend', event => {\n      const m = event.target;\n      const position = m.getLatLng();\n\n      onDrag(position)\n    })\n\n    marker.on('drag', event => {\n      const m = event.target;\n      const position = m.getLatLng()\n\n      circle.setLatLng(position)\n    })\n\n    map.addLayer(marker)\n\n    circleRef.current = circle\n\n    return () => {\n      circleRef.current = null\n      map.removeLayer(marker)\n      map.removeLayer(circle)\n    }\n  }, [startPoint, mapRef, onDrag])\n\n  useEffect(() => {\n    if (!circleRef.current) {\n      return\n    }\n\n    circleRef.current.setRadius(range)\n  }, [range, circleRef])\n\n  // useEffect(() => {\n  //   if (checkpoints) {\n  //     console.log(checkpoints)\n  //     onChange(checkpoints)\n  //   }\n  // }, [checkpoints, onChange])\n\n  useEffect(() => {\n    if (!mapRef.current || !circleRef.current || !checkpoints || dragging) {\n      return\n    }\n\n    const markers = checkpoints?.map((point, index) => {\n      return L.marker([point.lat, point.lng], { draggable: true, icon: checkpointIcon }).bindTooltip(`${index + 1}`, { permanent: true, interactive: false, className: 'checkpoint-label', direction: 'right' })\n    }) ?? []\n\n    markers.forEach(marker => mapRef.current?.addLayer(marker))\n    markers.forEach(marker => {\n      marker.on('dragend', (e) => {\n        const newCheckPoints = markers.map(m => m.getLatLng())\n        onChange(newCheckPoints)\n      })\n    })\n\n    return () => {\n      markers.forEach(marker => mapRef.current?.removeLayer(marker))\n    }\n  }, [checkpoints, circleRef, mapRef, dragging, onChange])\n\n  return (\n    <div id='mapid' style={{ height: '100%' }} />\n  )\n}\n\nexport default Map\n","/* eslint-disable */\nimport * as Types from '../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type GetVirtualPointsQueryVariables = Types.Exact<{\n  input: Types.PointsNearbyInput;\n}>;\n\n\nexport type GetVirtualPointsQuery = { __typename?: 'Query', pointsNearby: { __typename?: 'CoordinatesConnection', points: Array<{ __typename?: 'Coordinates', lat: string, lng: string }> } };\n\n\nexport const GetVirtualPointsDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"getVirtualPoints\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"input\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"PointsNearbyInput\"}}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"pointsNearby\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"input\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"input\"}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"points\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"lat\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"lng\"}}]}}]}}]}}]} as unknown as DocumentNode<GetVirtualPointsQuery, GetVirtualPointsQueryVariables>;","/* eslint-disable */\nimport * as Types from '../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type CreateVirtualChallengeMutationVariables = Types.Exact<{\n  input: Types.CreateVirtualChallengeInput;\n}>;\n\n\nexport type CreateVirtualChallengeMutation = { __typename?: 'Mutation', createVirtualChallenge: { __typename?: 'CreateVirtualChallengeResult', success: boolean, virtualChallenge: { __typename?: 'VirtualChallenge', id: number, name: string, checkpoints: { __typename?: 'CoordinatesConnection', totalCount: number, points: Array<{ __typename?: 'Coordinates', lat: string, lng: string }> } } | null } };\n\n\nexport const CreateVirtualChallengeDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"CreateVirtualChallenge\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"input\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"CreateVirtualChallengeInput\"}}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"createVirtualChallenge\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"input\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"input\"}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"success\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"virtualChallenge\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpoints\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"points\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"lat\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"lng\"}}]}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"totalCount\"}}]}}]}}]}}]}}]} as unknown as DocumentNode<CreateVirtualChallengeMutation, CreateVirtualChallengeMutationVariables>;","import React, {useCallback, useEffect, useMemo, useState} from 'react'\nimport { Button, Slider } from '@material-ui/core'\nimport { useLazyQuery, useMutation } from '@apollo/client'\n\nimport Map from './Map'\nimport { GetVirtualPointsDocument } from '../../queries/getVirtualPoints'\nimport { CreateVirtualChallengeDocument } from \"../../queries/createVirtualChallenge\";\n\ninterface Coords {\n  lat: number\n  lng: number\n}\n\nconst AddVirtualChallenge = () => {\n  const [points, setPoints] = useState<Coords[]>([])\n  const [getPoints, { loading, data }] = useLazyQuery(GetVirtualPointsDocument, {\n    fetchPolicy: 'no-cache',\n    notifyOnNetworkStatusChange: true\n  })\n\n  const [create] = useMutation(CreateVirtualChallengeDocument)\n\n  const [startPoint, setStartPoint] = useState<[number, number] | null>(null)\n  const initialPoint: [number, number] = useMemo(() => [54.372158, 18.638306], [])\n  const [range, setRange] = useState(500)\n\n\n  const handleChange = (event: unknown, newValue: number | number[]) => {\n    setRange(Array.isArray(newValue) ? newValue[0] : newValue)\n  }\n\n  const handlePositionDrag = useCallback((coords) => {\n    setStartPoint([coords.lat, coords.lng])\n  }, [setStartPoint])\n\n  const hasPoint = startPoint !== null\n\n  const handleMapClick = useCallback((coords) => {\n    if (hasPoint) {\n      return\n    }\n\n    setStartPoint([coords.lat, coords.lng])\n  }, [hasPoint, setStartPoint])\n\n  const handlePointsChange = useCallback((points: Coords[]) => {\n    setPoints(points)\n  }, [setPoints])\n\n  const handleCreate = useCallback(() => {\n    create({\n      variables: {\n        input: {\n          name: 'Test',\n          checkpoints: points.map(point => ({ lat: point.lat.toString(), lng: point.lng.toString()}))\n        }\n      }\n    })\n  }, [points, create])\n\n  useEffect(() => {\n    if (!startPoint) {\n      return\n    }\n\n    getPoints({\n      variables: {\n        input: {\n          start: {\n            lat: startPoint[0].toString(),\n            lng: startPoint[1].toString()\n          },\n          radius: range,\n          count: 12\n        }\n      }\n    })\n  }, [getPoints, range, startPoint])\n\n  useEffect(() => {\n    if (!loading && data) {\n      setPoints(data.pointsNearby.points.map(({ lat, lng }: {lat: string, lng: string }) => ({\n        lat: parseFloat(lat),\n        lng: parseFloat(lng)\n      })))\n    } else {\n      setPoints([])\n    }\n  }, [loading, data])\n\n  return (\n    <div>\n      <div style={{ height: 200 }}>\n        <Slider value={range} onChange={handleChange} min={100} max={2000} aria-labelledby=\"continuous-slider\" />\n\n        <br />\n        <Button onClick={handleCreate}>Create</Button>\n      </div>\n      <div style={{ position: 'fixed', bottom: 12, left: 12, right: 12, top: 300 }}>\n        <Map\n          initialPoint={initialPoint}\n          startPoint={startPoint}\n          range={range}\n          checkpoints={points}\n          onDrag={handlePositionDrag}\n          onClick={handleMapClick}\n          onChange={handlePointsChange}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default AddVirtualChallenge\n","/* eslint-disable */\nimport * as Types from '../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type GetVirtualChallengesQueryVariables = Types.Exact<{ [key: string]: never; }>;\n\n\nexport type GetVirtualChallengesQuery = { __typename?: 'Query', virtualChallenges: { __typename?: 'VirtualChallengeConnection', nodes: Array<{ __typename?: 'VirtualChallenge', id: number, name: string, createdAt: string, checkpoints: { __typename?: 'CoordinatesConnection', totalCount: number, points: Array<{ __typename?: 'Coordinates', lat: string, lng: string }> } }> } };\n\n\nexport const GetVirtualChallengesDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"getVirtualChallenges\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"virtualChallenges\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"nodes\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}},{\"kind\":\"Field\",\"alias\":{\"kind\":\"Name\",\"value\":\"createdAt\"},\"name\":{\"kind\":\"Name\",\"value\":\"created_at\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpoints\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"totalCount\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"points\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"lat\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"lng\"}}]}}]}}]}}]}}]}}]} as unknown as DocumentNode<GetVirtualChallengesQuery, GetVirtualChallengesQueryVariables>;","import { useQuery } from '@apollo/client';\nimport Box from '@material-ui/core/Box';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport Typography from '@material-ui/core/Typography';\nimport PublicIcon from '@material-ui/icons/Public';\n\nimport React from 'react'\nimport {GetVirtualChallengesDocument} from \"../../queries/getVirtualChallenges\";\nimport LoadingIndicator from \"../../components/LoadingIndicator/LoadingIndicator\";\nimport {useBreadcrumbStyles} from \"../../hooks/useBreadcrumbStyles\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport { Link } from 'react-router-dom';\nimport ListItemText from '@material-ui/core/ListItemText/ListItemText';\nimport { format } from 'date-fns';\nimport {useInitialNavigation} from \"../../hooks/useInitialNavigation\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from '@material-ui/icons/Add';\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    addChallengeButton: {\n      position: 'absolute',\n      right: '1em',\n      bottom: '5em',\n    },\n  })\n);\n\nconst VirtualChallengeList = () => {\n  const isInitialNavigation = useInitialNavigation();\n  const classes = useStyles()\n\n  const { data, loading } = useQuery(GetVirtualChallengesDocument, {\n    fetchPolicy: isInitialNavigation ? 'cache-and-network' : undefined,\n    nextFetchPolicy: isInitialNavigation ? 'cache-first' : undefined,\n  })\n\n  const breadcrumbClasses = useBreadcrumbStyles();\n\n  if (!data) {\n    return (<div>Loading</div>)\n  }\n\n  return (\n    <div>\n      <Box px={1} py={2}>\n        <Breadcrumbs aria-label=\"breadcrumb\">\n          <Typography color=\"textPrimary\" className={breadcrumbClasses.link}>\n            <PublicIcon className={breadcrumbClasses.icon} />\n            Virtual Challenges\n          </Typography>\n        </Breadcrumbs>\n      </Box>\n\n      <LoadingIndicator active={loading} />\n\n      <List>\n        {(data?.virtualChallenges.nodes ?? []).map(challenge => (\n          <ListItem key={challenge.id} button component={Link} to={`/virtual-challenges/${challenge.id}`}>\n            <ListItemText\n              primary={challenge.name}\n              secondary={format(new Date(challenge.createdAt), 'dd/MM/yyyy')}\n            />\n          </ListItem>\n        ))}\n      </List>\n\n      <Fab\n        className={classes.addChallengeButton}\n        color=\"primary\"\n        aria-label=\"add\"\n        component={Link}\n        to=\"/virtual-challenges/new\"\n      >\n        <AddIcon />\n      </Fab>\n    </div>\n  )\n}\n\nexport default VirtualChallengeList\n","/* eslint-disable */\nimport * as Types from '../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type GetVirtualChallengeQueryVariables = Types.Exact<{\n  id: Types.Scalars['Int'];\n}>;\n\n\nexport type GetVirtualChallengeQuery = { __typename?: 'Query', virtualChallenge: { __typename?: 'VirtualChallenge', id: number, name: string, createdAt: string, checkpoints: { __typename?: 'CoordinatesConnection', totalCount: number, points: Array<{ __typename?: 'Coordinates', lat: string, lng: string }> } } | null };\n\n\nexport const GetVirtualChallengeDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"getVirtualChallenge\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"virtualChallenge\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}},{\"kind\":\"Field\",\"alias\":{\"kind\":\"Name\",\"value\":\"createdAt\"},\"name\":{\"kind\":\"Name\",\"value\":\"created_at\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpoints\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"totalCount\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"points\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"lat\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"lng\"}}]}}]}}]}}]}}]} as unknown as DocumentNode<GetVirtualChallengeQuery, GetVirtualChallengeQueryVariables>;","/* eslint-disable */\nimport * as Types from '../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type EnrollVirtualChallengeMutationVariables = Types.Exact<{\n  id: Types.Scalars['Int'];\n}>;\n\n\nexport type EnrollVirtualChallengeMutation = { __typename?: 'Mutation', enrollVirtualChallenge: { __typename?: 'EnrollVirtualChallengeResult', success: boolean, event: { __typename?: 'Event', id: number, name: string, type: number, checkpoint_count: number, created_at: string, updated_at: string } | null } };\n\n\nexport const EnrollVirtualChallengeDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"EnrollVirtualChallenge\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"enrollVirtualChallenge\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"success\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"event\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"type\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"checkpoint_count\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"created_at\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"updated_at\"}}]}}]}}]}}]} as unknown as DocumentNode<EnrollVirtualChallengeMutation, EnrollVirtualChallengeMutationVariables>;","import { useQuery, useMutation } from '@apollo/client';\nimport React from 'react'\nimport {useHistory, useParams } from \"react-router-dom\"\nimport {GetVirtualChallengeDocument} from \"../../queries/getVirtualChallenge\";\nimport {useInitialNavigation} from \"../../hooks/useInitialNavigation\";\nimport { Link as RouterLink } from 'react-router-dom';\nimport Box from '@material-ui/core/Box';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport PublicIcon from '@material-ui/icons/Public';\nimport Link from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport {useBreadcrumbStyles} from \"../../hooks/useBreadcrumbStyles\";\nimport Button from '@material-ui/core/Button';\nimport {EnrollVirtualChallengeDocument} from \"../../queries/enrollVirtualChallenge\";\nimport {GetEventsDocument} from \"../../queries/getEvents\";\n\nconst VirtualChallenge = () => {\n  const isInitialNavigation = useInitialNavigation();\n\n  const breadcrumbClasses = useBreadcrumbStyles()\n  const history = useHistory();\n\n  const { id } = useParams<{ id: string }>()\n  const { data } = useQuery(GetVirtualChallengeDocument, {\n    fetchPolicy: isInitialNavigation ? 'cache-and-network' : undefined,\n    nextFetchPolicy: isInitialNavigation ? 'cache-first' : undefined,\n    variables: {\n      id: parseInt(id, 10)\n    }\n  })\n\n  const [enroll] = useMutation(EnrollVirtualChallengeDocument, {\n    refetchQueries: [{ query: GetEventsDocument }],\n    awaitRefetchQueries: true,\n    onCompleted: (data) => {\n      if (data.enrollVirtualChallenge.event) {\n        history.push(`/events/${data.enrollVirtualChallenge.event.id}`);\n      }\n    },\n    variables: {\n      id: parseInt(id, 10)\n    }\n  })\n\n  const virtualChallenge = data?.virtualChallenge\n\n  if (!virtualChallenge) {\n    return <div>NOT FOUND</div>\n  }\n\n  return (\n    <div>\n      <Box px={1} py={2}>\n        <Breadcrumbs aria-label=\"breadcrumb\">\n          <Link color=\"inherit\" component={RouterLink} to='/virtual-challenges' className={breadcrumbClasses.link}>\n            <PublicIcon className={breadcrumbClasses.icon} />\n            Virtual Challenges\n          </Link>\n          <Typography color=\"textPrimary\">{virtualChallenge.name}</Typography>\n        </Breadcrumbs>\n      </Box>\n\n      <Button onClick={() => enroll()}>Join</Button>\n    </div>\n  )\n}\n\nexport default VirtualChallenge\n","import {CheckpointsDispatchContext, CheckpointsStateContext} from \"./CheckpointsService\";\nimport {useContext, useEffect} from \"react\";\nimport {useMutation} from \"@apollo/client\";\nimport {CreateCheckpointDocument} from \"../../queries/createCheckpoint\";\nimport {GetEventDocument} from \"../../containers/EventPage/data/getEvent\";\n\nconst Executor = () => {\n  const { queue } = useContext(CheckpointsStateContext)\n  const dispatch = useContext(CheckpointsDispatchContext)\n  const firstQueueElement = queue[0]\n\n  const [createCheckpoint] =\n    useMutation(CreateCheckpointDocument, {\n      awaitRefetchQueries: true,\n      onCompleted: (data) => {\n        if (!data.createCheckpoint.checkpoint) {\n          return\n        }\n\n        const { cp_id, event_id } = data.createCheckpoint.checkpoint\n        dispatch({\n          type: 'delete',\n          id: cp_id,\n          eventId: event_id\n        })\n      }\n    })\n\n  useEffect(() => {\n    if (!firstQueueElement) {\n      return\n    }\n\n    createCheckpoint({\n      refetchQueries: [{ query: GetEventDocument, variables: { id: firstQueueElement.eventId } }],\n      variables: {\n        eventId: firstQueueElement.eventId,\n        cpId: firstQueueElement.checkpoint.cpId,\n        cpCode: firstQueueElement.checkpoint.cpCode ?? null,\n        skipped: firstQueueElement.checkpoint.skipped,\n        skipReason: firstQueueElement.checkpoint.skipReason ?? null\n      }\n    }).catch(err => {\n      dispatch({\n        type: 'errored',\n        checkpoint: firstQueueElement.checkpoint,\n        eventId: firstQueueElement.eventId,\n        error: err\n      })\n    })\n  }, [firstQueueElement, dispatch, createCheckpoint])\n\n  return null\n}\n\nexport default Executor\n","import {CheckpointsStateContext} from \"./CheckpointsService\";\nimport {useContext, useEffect, useState} from \"react\";\nimport {Snackbar} from \"@material-ui/core\";\n\nconst ErrorReporter = () => {\n  const { errored } = useContext(CheckpointsStateContext)\n  const [open, setOpen] = useState(true)\n\n  const errors = errored.map(item => `Error during saving point ${item.checkpoint.cpId}`)\n\n  useEffect(() => {\n    setOpen(true)\n  }, [errored, setOpen])\n\n  if (errors.length === 0) {\n    return null\n  }\n\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      onClose={() => setOpen(false)}\n      open={open}\n      message={errors.map(message => (\n        <div>{message}</div>\n      ))}\n      autoHideDuration={5000}\n    />\n  )\n}\n\nexport default ErrorReporter\n","import { createContext } from \"react\";\n\nexport type PwaUpdateOnSuccessCallback =  () => void\nexport type PwaUpdateOnUpdateCallback = (reg: ServiceWorkerRegistration) => void\n\nexport interface PwaUpdater {\n  onSuccess: (cb: PwaUpdateOnSuccessCallback) => void\n  offSuccess: (cb: PwaUpdateOnSuccessCallback) => void\n  onUpdate: (cb: PwaUpdateOnUpdateCallback) => void\n  offUpdate: (cb: PwaUpdateOnUpdateCallback) => void\n}\n\nconst PwaUpdaterContext = createContext<PwaUpdater|null>(null)\n\nexport default PwaUpdaterContext\n","import React, {useContext, useEffect, useState} from 'react'\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport PwaUpdaterContext from \"../PwaUpdaterContext/PwaUpdaterContext\";\n\nconst PwaUpdateNotification = () => {\n  const updater = useContext(PwaUpdaterContext)\n  const [loading, setLoading] = useState(false)\n  const [registration, setRegistration] = useState<ServiceWorkerRegistration|null>(null)\n\n  useEffect(() => {\n    if (!updater) {\n      return\n    }\n\n    const handleUpdate = (reg: ServiceWorkerRegistration) => {\n      setRegistration(reg)\n    }\n\n    updater.onUpdate(handleUpdate)\n\n    return () => {\n      updater.offUpdate(handleUpdate)\n    }\n  }, [updater])\n\n\n  const handleClose = () => {\n    setRegistration(null)\n  }\n\n  const handleReload = () => {\n    if (!registration) {\n      return\n    }\n\n    setLoading(true)\n\n    const registrationWaiting = registration.waiting;\n    if (registrationWaiting) {\n      registrationWaiting.postMessage({ type: 'SKIP_WAITING' });\n      registrationWaiting.addEventListener('statechange', (e) => {\n        const target = e.target ? e.target as ServiceWorker : null\n        if (target?.state === 'activated') {\n          window.location.reload()\n        }\n      });\n    }\n  }\n\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      open={Boolean(registration)}\n      onClose={handleClose}\n      message=\"A new version of the app is available!\"\n      action={\n        <React.Fragment>\n          <Button color=\"secondary\" size=\"small\" onClick={handleReload} disabled={loading}>\n            RELOAD\n          </Button>\n          <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        </React.Fragment>\n      }\n    />\n  )\n}\n\nexport default PwaUpdateNotification\n","import React, {useEffect, useState, ReactNode} from 'react';\nimport { onError } from \"@apollo/client/link/error\";\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\n\nimport {\n  ApolloClient,\n  ApolloLink,\n  ApolloProvider,\n  createHttpLink,\n  InMemoryCache,\n  NormalizedCacheObject,\n} from '@apollo/client';\n\nimport {LocalStorageWrapper, persistCache} from \"apollo3-cache-persist\"\nimport InitialNavigationDetector from \"./components/InitialNavigationDetector/InitialNavigationDetector\";\nimport CheckpointsService from \"./components/CheckpointsService/CheckpointsService\";\nimport Executor from \"./components/CheckpointsService/Executor\";\nimport ErrorReporter from \"./components/CheckpointsService/ErrorReporter\";\nimport { init as initI18n } from './i18n'\nimport PwaUpdateNotification from \"./components/PwaUpdateNofication/PwaUpdateNotification\";\n\nconst errorLink = onError(({ graphQLErrors }) => {\n  if (graphQLErrors) {\n    graphQLErrors.forEach(({extensions}) => {\n      if (extensions && extensions.code === 'UNAUTHENTICATED') {\n        window.location.href = '/sign-in?redirect_url=' + encodeURIComponent(window.location.href)\n      }\n    });\n  }\n})\n\nconst getLink = () => {\n  return createHttpLink({\n    credentials: 'include',\n    uri:\n      process.env.REACT_APP_GRAPHQL_ENDPOINT ||\n      'https://localhost:8080/woodtime',\n  });\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n    },\n    loaderWrapper: {\n      alignItems: 'center',\n      width: '100%',\n      height: '100%',\n      justifyContent: 'center',\n      display: 'flex'\n    },\n    bottomBar: {\n      position: 'fixed',\n      bottom: 0,\n      width: '100%'\n    }\n  })\n);\n\n\ninitI18n()\n\nfunction AppShell({ apolloClient, children }: { apolloClient?: ApolloClient<NormalizedCacheObject>, children: ReactNode }) {\n  const [client, setClient] = useState<ApolloClient<NormalizedCacheObject> | null>(apolloClient ?? null)\n  const classes = useStyles()\n\n  useEffect(() => {\n    async function init() {\n      if (client) {\n        return\n      }\n\n      const cache = new InMemoryCache()\n\n      await persistCache({\n        cache,\n        storage: new LocalStorageWrapper(window.localStorage),\n      })\n      setClient(\n        new ApolloClient({\n          cache,\n          link: ApolloLink.from([errorLink, getLink()])\n        }),\n      );\n    }\n\n    init().catch(console.error);\n  }, [client, setClient])\n\n  return (\n    <>\n      <PwaUpdateNotification />\n\n      {client ? (\n        <ApolloProvider client={client}>\n          <InitialNavigationDetector>\n            <CheckpointsService>\n              <Executor />\n              <ErrorReporter />\n\n              {children}\n            </CheckpointsService>\n          </InitialNavigationDetector>\n        </ApolloProvider>\n      ) : (\n        <div className={classes.loaderWrapper}>\n          <CircularProgress />\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default AppShell;\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\n\nimport translationEn from './translations/en.json'\nimport translationPl from './translations/pl.json'\n\nexport function init() {\n  i18n\n    .use(LanguageDetector)\n    .use(initReactI18next) // passes i18n down to react-i18next\n    .init({\n      resources: {\n        en: {\n          translation: translationEn\n        },\n        pl: {\n          translation: translationPl\n        }\n      },\n      fallbackLng: 'en',\n      interpolation: {\n        escapeValue: false // react already safes from xss => https://www.i18next.com/translation-function/interpolation#unescape\n      }\n    })\n}\n","import React, {ReactNode} from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  Link,\n  BottomNavigation,\n  BottomNavigationAction\n} from '@material-ui/core';\nimport PublicIcon from '@material-ui/icons/Public';\nimport EventIcon from '@material-ui/icons/Event';\nimport {\n  Link as RouterLink,\n  useHistory,\n  useLocation,\n} from 'react-router-dom';\n\nimport {useTranslation} from \"react-i18next\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n    },\n    loaderWrapper: {\n      alignItems: 'center',\n      width: '100%',\n      height: '100%',\n      justifyContent: 'center',\n      display: 'flex'\n    },\n    bottomBar: {\n      position: 'fixed',\n      bottom: 0,\n      width: '100%'\n    }\n  })\n);\n\nfunction BottomBar({ className }: { className: string }) {\n  const { t } = useTranslation()\n  const history = useHistory()\n  const location = useLocation()\n\n  if (location.pathname !== '/' && location.pathname !== '/virtual-challenges') {\n    return null\n  }\n\n  return (\n    <BottomNavigation\n      value={location.pathname === '/' ? 0 : 1}\n      onChange={(event, newValue) => {\n        if (newValue === 0) {\n          history.push('/')\n        } else {\n          history.push('/virtual-challenges')\n        }\n      }}\n      showLabels\n      className={className}\n    >\n      <BottomNavigationAction label={t('navigation.events')} icon={<EventIcon />} />\n      <BottomNavigationAction label={t('navigation.virtual_challenges')} icon={<PublicIcon />} />\n    </BottomNavigation>\n  )\n}\n\nfunction Layout({ children }: { children: ReactNode }) {\n  const classes = useStyles()\n\n  return (\n    <div>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            <Link component={RouterLink} to=\"/\" color=\"inherit\">\n              Woodtime\n            </Link>\n          </Typography>\n        </Toolbar>\n      </AppBar>\n\n      {children}\n\n      <BottomBar className={classes.bottomBar}/>\n    </div>\n  );\n}\n\nexport default Layout;\n","/* eslint-disable */\nimport * as Types from '../../../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nexport type SignInMutationVariables = Types.Exact<{\n  name: Types.Scalars['String'];\n}>;\n\n\nexport type SignInMutation = { __typename?: 'Mutation', signIn: { __typename?: 'SignInPayload', success: boolean, user: { __typename?: 'User', id: string, name: string } | null } | null };\n\n\nexport const SignInDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"SignIn\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"signIn\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"success\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"user\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"}}]}}]}}]}}]} as unknown as DocumentNode<SignInMutation, SignInMutationVariables>;","import React from 'react'\nimport { Field, Form } from 'react-final-form'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport {useMutation} from \"@apollo/client\";\nimport {SignInDocument} from \"./data/signIn\";\nimport {Box} from \"@material-ui/core\";\nimport {useHistory} from \"react-router-dom\";\n\ninterface Values {\n  name: string\n}\n\nconst SignIn = () => {\n  const history = useHistory()\n\n  const [signIn] = useMutation(SignInDocument, {\n    onCompleted: () => {\n      const urlParams = new URLSearchParams(history.location.search)\n\n      const redirect = urlParams.get('redirect_url')\n      if (redirect) {\n        window.location.href = decodeURIComponent(redirect)\n      } else {\n        history.push('/')\n      }\n    }\n  })\n\n  const handleSubmit = (values: Values) => {\n    return signIn({\n      variables: values\n    })\n  }\n\n  return (\n    <Box px={2} py={1}>\n      <Form<Values>\n        onSubmit={handleSubmit}\n        render={({ handleSubmit }) => {\n          return (\n            <form onSubmit={handleSubmit}>\n              <h2>Sign In</h2>\n              <Field\n                name=\"name\"\n                render={({ input, meta }) => (\n                  <Box my={1}>\n                    <TextField\n                      id=\"standard-basic\"\n                      label=\"Name\"\n                      required\n                      autoComplete=\"off\"\n                      onChange={input.onChange}\n                    />\n                    {meta.touched && meta.error && <span>{meta.error}</span>}\n                  </Box>\n                )}\n              />\n              <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n                Create\n              </Button>\n            </form>\n          )\n        }}\n      />\n    </Box>\n  )\n}\n\nexport default SignIn\n","/* eslint-disable */\nimport * as Types from '../../../graphql/types';\n\nimport { TypedDocumentNode as DocumentNode } from '@graphql-typed-document-node/core';\nimport { EventForListFragmentDoc } from '../../../queries/eventForListFragment';\nexport type JoinEventMutationVariables = Types.Exact<{\n  id: Types.Scalars['Int'];\n  token: Types.Scalars['String'];\n}>;\n\n\nexport type JoinEventMutation = { __typename?: 'Mutation', joinEvent: { __typename?: 'JoinEventPayload', success: boolean, event: { __typename?: 'Event', id: number, name: string, checkpoint_count: number, created_at: string } | null } | null };\n\n\nexport const JoinEventDocument = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"JoinEvent\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"token\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"joinEvent\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}},{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"token\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"token\"}}}],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"success\"}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"event\"},\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"FragmentSpread\",\"name\":{\"kind\":\"Name\",\"value\":\"EventForList\"}}]}}]}}]}},...EventForListFragmentDoc.definitions]} as unknown as DocumentNode<JoinEventMutation, JoinEventMutationVariables>;","import React, {useEffect} from 'react'\nimport {useMutation} from \"@apollo/client\";\nimport {useHistory, useLocation, useParams} from 'react-router-dom'\n\nimport {JoinEventDocument} from \"./data/joinEvent\";\nimport {EventForListFragmentDoc} from \"../../queries/eventForListFragment\";\n\nconst JoinEvent = () => {\n  const { id } = useParams<{ id: string }>()\n  const location = useLocation()\n  const history = useHistory()\n  const urlParams = new URLSearchParams(location.search)\n\n  const [join, { data, loading }] = useMutation(JoinEventDocument, {\n    variables: {\n      id: parseInt(id, 10),\n      token: urlParams.get('token')\n    },\n    update: (cache, { data }) => {\n      if (!data?.joinEvent?.event) {\n        return\n      }\n\n      cache.modify({\n        fields: {\n          events: (existingEvents = []) => {\n            const newEventRef = cache.writeFragment({\n              data: data?.joinEvent?.event,\n              fragment: EventForListFragmentDoc\n            })\n\n            return [...existingEvents, newEventRef]\n          }\n        }\n      })\n    },\n    onCompleted: (data) => {\n      if (data?.joinEvent?.success) {\n        history.push(`/events/${id}`)\n      }\n    }\n  })\n\n  useEffect(() => {\n    join()\n  }, [join])\n\n  if (loading) {\n    return <div>Joining</div>\n  }\n\n  if (data?.joinEvent?.success) {\n    return <div>Success</div>\n  }\n\n  return <div>Couldn't join</div>\n}\n\nexport default JoinEvent\n","import React from 'react';\nimport {\n  Switch,\n  Route,\n  BrowserRouter as Router,\n} from 'react-router-dom';\n\nimport EventList from './containers/EventList/EventList';\nimport AddEvent from './containers/AddEvent/AddEvent';\nimport EventPage from './containers/EventPage/EventPage';\nimport EventInvitePage from './containers/EventInvitePage/EventInvitePage';\nimport AddCheckpointPage from './containers/AddCheckpointPage/AddCheckpointPage';\nimport AddVirtualChallenge from './containers/AddVirtualChallenge/AddVirtualChallenge';\nimport VirtualChallengeList from './containers/VirtualChallengeList/VirtualChallengeList';\nimport VirtualChallenge from './containers/VirtualChallenge/VirtualChallenge';\nimport AppShell from \"./AppShell\";\nimport Layout from \"./Layout\";\nimport SignIn from \"./containers/SignIn/SignIn\"\nimport JoinEvent from \"./containers/JoinEvent/JoinEvent\";\n\nfunction App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <AppShell>\n        <Layout>\n          <Switch>\n            <Route path=\"/\" exact>\n              <EventList />\n            </Route>\n            <Route path=\"/events/new\" exact>\n              <EventList />\n              <AddEvent />\n            </Route>\n            <Route path=\"/events/:id\" exact>\n              <EventPage />\n            </Route>\n            <Route path=\"/events/:id/invite\" exact>\n              <EventInvitePage />\n            </Route>\n            <Route path=\"/events/:id/add-checkpoint\" exact>\n              <AddCheckpointPage />\n            </Route>\n            <Route path=\"/virtual-challenges\" exact>\n              <VirtualChallengeList />\n            </Route>\n            <Route path=\"/virtual-challenges/new\" exact>\n              <AddVirtualChallenge />\n            </Route>\n            <Route path=\"/virtual-challenges/:id\" exact>\n              <VirtualChallenge />\n            </Route>\n            <Route path=\"/join/:id\" exact>\n              <JoinEvent />\n            </Route>\n            <Route path=\"/sign-in\" exact>\n              <SignIn />\n            </Route>\n          </Switch>\n        </Layout>\n      </AppShell>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, {ReactNode} from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nimport PwaUpdaterContext, { PwaUpdater, PwaUpdateOnSuccessCallback, PwaUpdateOnUpdateCallback } from './components/PwaUpdaterContext/PwaUpdaterContext'\n\nconst onSuccessCallbacks: PwaUpdateOnSuccessCallback[] = []\nconst onUpdateCallbacks: PwaUpdateOnUpdateCallback[] = []\n\nconst UpdaterProvider = ({ children }: { children: ReactNode }) => {\n  const value: PwaUpdater = {\n    onSuccess: (cb) => onSuccessCallbacks.push(cb),\n    offSuccess: (cb) => onSuccessCallbacks.filter(fn => fn !== cb),\n    onUpdate: (cb) => onUpdateCallbacks.push(cb),\n    offUpdate: (cb) => onUpdateCallbacks.filter(fn => fn !== cb)\n  }\n\n  return (\n    <PwaUpdaterContext.Provider value={value}>\n      {children}\n    </PwaUpdaterContext.Provider>\n  )\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <UpdaterProvider>\n      <App />\n    </UpdaterProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register({\n  onUpdate: reg => {\n    onUpdateCallbacks.forEach(cb => cb(reg))\n  },\n  onSuccess: () => {\n    onSuccessCallbacks.forEach(cb => cb())\n  }\n});\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}