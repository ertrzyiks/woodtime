{"version":3,"sources":["components/Storage/Storage.tsx","components/EventList/EventList.tsx","components/AddEvent/AddEvent.tsx","components/MissingCheckpointsArea/MissingCheckpointsArea.tsx","components/CheckpointCard/CheckpointCard.tsx","components/Solution/Solution.tsx","components/ScoreLauf/ScoreLauf.tsx","components/EventPage/EventPage.tsx","../../src/prepareImage.ts","../../src/Scanner.tsx","../../src/detectHarpus.ts","components/AddCheckpointPage/AddCheckpointPage.tsx","components/PwaUpdaterContext/PwaUpdaterContext.tsx","components/PwaUpdateNofication/PwaUpdateNotification.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx","../../src/scan.ts"],"names":["StorageContext","React","createContext","events","ActionsContext","PersistInLocalstorage","value","useContext","useEffect","localStorage","setItem","JSON","stringify","Storage","children","useState","storedValueRaw","getItem","parse","setValue","actions","addEvent","name","numCheckpoints","event","id","Date","getTime","createdAt","toISOString","numberOfCheckpoints","parseInt","checkpoints","newValue","addCheckpoint","eventId","code","skipped","find","e","Error","some","ch","checkpoint","newEvents","map","deleteCheckpoint","updatedEvents","updatedCheckpoints","filter","Provider","Event","ListItem","button","component","Link","to","ListItemText","primary","secondary","EventList","List","sort","a","b","format","Fab","color","aria-label","AddEvent","setName","setNumCheckpoints","history","useHistory","handleClose","push","Dialog","open","keepMounted","onClose","aria-labelledby","aria-describedby","DialogTitle","onSubmit","render","handleSubmit","DialogContent","input","meta","TextField","label","required","autoComplete","onChange","target","touched","error","DialogActions","Button","variant","type","onClick","MissingCheckpointsArea","scoredIds","max","missingPoints","Array","fill","_","idx","p","includes","length","Box","mt","minWidth","ml","mb","Typography","display","alignItems","width","join","useStyles","makeStyles","theme","createStyles","wrapper","header","padding","paddingBottom","backgroundColor","content","border","paddingLeft","paddingRight","boxSizing","deleteIcon","position","top","right","CheckpointCard","classes","style","flexDirection","className","toUpperCase","IconButton","checkpointId","Solution","ch1","ch2","parsedCodes","LinearProgressWithLabel","current","props","mr","LinearProgress","root","flexGrow","paper","item","control","spacing","ScoreLauf","newCheckpointPath","m","Grid","container","xs","justify","Paper","EventPage","useParams","y","text","results","match","margin","AddCheckpointPage","scanning","setScanning","scannerRead","setScannerRead","err","message","startsWith","FORM_ERROR","initialValues","values","submitError","disabled","FormControlLabel","Checkbox","checked","marginTop","marginBottom","height","onRead","point","bottom","background","justifyContent","PwaUpdaterContext","PwaUpdateNotification","updater","loading","setLoading","registration","setRegistration","handleUpdate","reg","onUpdate","offUpdate","Snackbar","anchorOrigin","vertical","horizontal","Boolean","action","Fragment","size","registrationWaiting","waiting","postMessage","addEventListener","state","window","location","reload","fontSize","menuButton","marginRight","title","App","basename","process","AppBar","Toolbar","RouterLink","path","exact","isLocalhost","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onSuccess","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","onSuccessCallbacks","onUpdateCallbacks","UpdaterProvider","cb","offSuccess","fn","ReactDOM","StrictMode","document","getElementById","URL","href","origin","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration","forEach"],"mappings":"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","file":"static/js/main.33b46205.chunk.js","sourcesContent":["import React, { ReactNode, useContext, useEffect, useState } from 'react';\nimport { OrienteeringEvent } from '../../types/OrienteeringEvent';\nimport { Checkpoint } from '../../types/Checkpoint';\n\ninterface Actions {\n  addEvent: (name: string, numCheckpoints: string) => OrienteeringEvent;\n  addCheckpoint: (params: {\n    eventId: number;\n    id: string;\n    code?: string;\n    skipped: boolean;\n  }) => Checkpoint;\n  deleteCheckpoint: (params: { eventId: number; id: string }) => void;\n}\n\ninterface State {\n  events: OrienteeringEvent[];\n}\n\nexport const StorageContext = React.createContext<State>({ events: [] });\nexport const ActionsContext = React.createContext<Actions | null>(null);\n\nconst PersistInLocalstorage = () => {\n  const value = useContext(StorageContext);\n\n  useEffect(() => {\n    localStorage.setItem('woodtime-storage', JSON.stringify(value));\n  }, [value]);\n\n  return null;\n};\n\nconst Storage = ({ children }: { children?: ReactNode }) => {\n  const [value, setValue] = useState<State>(() => {\n    const storedValueRaw = localStorage.getItem('woodtime-storage') ?? '';\n    return storedValueRaw\n      ? JSON.parse(storedValueRaw)\n      : { events: [] as Event[] };\n  });\n\n  const actions: Actions = {\n    addEvent: (name: string, numCheckpoints: string) => {\n      const event = {\n        id: new Date().getTime(),\n        name,\n        createdAt: new Date().toISOString(),\n        numberOfCheckpoints: parseInt(numCheckpoints, 10),\n        checkpoints: [],\n      };\n      const newValue = { events: [...value.events, event] };\n      setValue(newValue);\n      return event;\n    },\n\n    addCheckpoint({ eventId, id, code, skipped }) {\n      const event = value.events.find((e) => e.id === eventId);\n      if (!event) {\n        throw new Error(`Event ${eventId} not found`);\n      }\n\n      const hasCheckpoint = event.checkpoints.some((ch) => ch.id === id);\n      if (hasCheckpoint) {\n        throw new Error(`Checkpoint ${id} already added`);\n      }\n\n      const checkpoint = {\n        id,\n        skipped,\n        code,\n      };\n\n      const newEvents = value.events.map((e) => {\n        if (e.id === eventId) {\n          return { ...e, checkpoints: [...e.checkpoints, checkpoint] };\n        } else {\n          return e;\n        }\n      });\n\n      setValue({ ...value, events: newEvents });\n\n      return checkpoint;\n    },\n\n    deleteCheckpoint: ({ eventId, id }) => {\n      const event = value.events.find((e) => e.id === eventId);\n      if (!event) {\n        throw new Error(`Event ${eventId} not found`);\n      }\n\n      const updatedEvents = value.events.map((e) => {\n        if (e.id !== eventId) {\n          return e;\n        }\n\n        const updatedCheckpoints = e.checkpoints.filter((ch) => ch.id !== id);\n        return { ...e, checkpoints: updatedCheckpoints };\n      });\n\n      setValue({ ...value, events: updatedEvents });\n    },\n  };\n\n  return (\n    <ActionsContext.Provider value={actions}>\n      <StorageContext.Provider value={value}>\n        <PersistInLocalstorage />\n        {children}\n      </StorageContext.Provider>\n    </ActionsContext.Provider>\n  );\n};\n\nexport default Storage;\n","import React, { useContext } from 'react';\nimport { Fab, List, ListItem, ListItemText } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { Link } from 'react-router-dom';\nimport { StorageContext } from '../Storage/Storage';\nimport format from 'date-fns/format';\n\nconst Event = ({\n  id,\n  name,\n  createdAt,\n}: {\n  id: number;\n  name: string;\n  createdAt: string;\n}) => (\n  <ListItem button component={Link} to={`/events/${id}`}>\n    <ListItemText primary={name} secondary={createdAt} />\n  </ListItem>\n);\n\nconst EventList = () => {\n  const { events } = useContext(StorageContext);\n  return (\n    <div>\n      <List>\n        {events\n          .sort((a: { id: number }, b: { id: number }) => b.id - a.id)\n          .map(({ id, name, createdAt }) => (\n            <Event\n              key={id}\n              id={id}\n              name={name}\n              createdAt={format(new Date(createdAt), 'dd/MM/yyyy')}\n            />\n          ))}\n      </List>\n\n      <Fab color=\"primary\" aria-label=\"add\" component={Link} to=\"/events/new\">\n        <AddIcon />\n      </Fab>\n    </div>\n  );\n};\n\nexport default EventList;\n","import React, { useContext, useState } from 'react';\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField,\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { ActionsContext } from '../Storage/Storage';\nimport { Field, Form } from 'react-final-form';\n\ninterface Values {\n  name: string;\n  numCheckpoints: string;\n}\n\nconst AddEvent = () => {\n  const [name, setName] = useState('');\n  const [numCheckpoints, setNumCheckpoints] = useState('');\n\n  const actions = useContext(ActionsContext);\n  const history = useHistory();\n  const handleClose = () => {\n    history.push('/');\n  };\n\n  const handleSubmit = () => {\n    const event = actions?.addEvent(name, numCheckpoints);\n    if (event) {\n      history.push(`/events/${event.id}`);\n    }\n  };\n  return (\n    <Dialog\n      open\n      keepMounted\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-slide-title\"\n      aria-describedby=\"alert-dialog-slide-description\"\n    >\n      <DialogTitle id=\"alert-dialog-slide-title\">\n        Create a new event\n      </DialogTitle>\n      <Form<Values>\n        onSubmit={handleSubmit}\n        render={({ handleSubmit }) => {\n          return (\n            <form onSubmit={handleSubmit}>\n              <DialogContent>\n                <Field\n                  name=\"id\"\n                  render={({ input, meta }) => (\n                    <div>\n                      <TextField\n                        id=\"standard-basic\"\n                        label=\"Name\"\n                        required\n                        autoComplete=\"off\"\n                        onChange={(e) => setName(e.target.value)}\n                      />\n                      {meta.touched && meta.error && <span>{meta.error}</span>}\n                    </div>\n                  )}\n                />\n\n                <Field\n                  name=\"code\"\n                  render={({ input, meta }) => (\n                    <div>\n                      <TextField\n                        id=\"standard-basic\"\n                        label=\"Points\"\n                        required\n                        autoComplete=\"off\"\n                        onChange={(e) => setNumCheckpoints(e.target.value)}\n                      />\n                      {meta.touched && meta.error && <span>{meta.error}</span>}\n                    </div>\n                  )}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n                  Create\n                </Button>\n                <Button onClick={handleClose} color=\"primary\">\n                  Cancel\n                </Button>\n              </DialogActions>\n            </form>\n          );\n        }}\n      />\n    </Dialog>\n  );\n};\n\nexport default AddEvent;\n","import { Box, Typography } from '@material-ui/core';\nimport React from 'react';\n\ninterface Props {\n  scoredIds: number[];\n  max: number;\n}\n\nconst MissingCheckpointsArea = ({ scoredIds, max }: Props) => {\n  const allPoints = Array(max)\n    .fill(max)\n    .map((_, idx) => 1 + idx);\n  const missingPoints = allPoints.filter((p) => !scoredIds.includes(p));\n\n  if (scoredIds.length === 0 || scoredIds.length === max) {\n    return null;\n  }\n\n  return (\n    <Box mt={3}>\n      <Box minWidth={35} ml={1} mb={1}>\n        <Typography>Missing:</Typography>\n      </Box>\n      <Box display=\"flex\" alignItems=\"center\">\n        <Box width=\"100%\" ml={1}>\n          {missingPoints.join(', ')}\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default MissingCheckpointsArea;\n","import {\n  createStyles,\n  IconButton,\n  Theme,\n  makeStyles,\n  Typography,\n} from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport React, { useContext } from 'react';\nimport { Checkpoint } from '../../types/Checkpoint';\nimport { ActionsContext } from '../Storage/Storage';\n\ninterface Props {\n  checkpoint: Checkpoint;\n  eventId: number;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    wrapper: {\n      width: '100%',\n    },\n    header: {\n      padding: 10,\n      paddingBottom: 2,\n      backgroundColor: '#c5cae9',\n    },\n    content: {\n      border: '1px solid #c5cae9',\n\n      width: '100%',\n      paddingLeft: 10,\n      paddingRight: 10,\n      paddingBottom: 10,\n      padding: 10,\n      boxSizing: 'border-box',\n    },\n    deleteIcon: {\n      position: 'absolute',\n      top: -3,\n      right: -5,\n    },\n  })\n);\n\nconst CheckpointCard = ({ checkpoint, eventId }: Props) => {\n  const actions = useContext(ActionsContext);\n\n  const handleDeleteClick = (checkpointId: string) => {\n    actions?.deleteCheckpoint({ eventId, id: checkpointId });\n  };\n\n  const classes = useStyles();\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'row',\n        position: 'relative',\n      }}\n    >\n      <div className={classes.wrapper}>\n        <div className={classes.header}>\n          <Typography variant=\"button\" color=\"textSecondary\">\n            {checkpoint.id}\n          </Typography>\n        </div>\n        <div className={classes.content}>\n          <Typography variant=\"subtitle1\">\n            <span>\n              {checkpoint.skipped ? 'skipped' : checkpoint.code?.toUpperCase()}\n            </span>\n          </Typography>\n        </div>\n      </div>\n      <div className={classes.deleteIcon}>\n        <IconButton\n          aria-label=\"delete\"\n          onClick={() => handleDeleteClick(checkpoint.id)}\n        >\n          <ClearIcon />\n        </IconButton>\n      </div>\n    </div>\n  );\n};\n\nexport default CheckpointCard;\n","import { Box, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { Checkpoint } from '../../types/Checkpoint';\n\ninterface Props {\n  checkpoints: Checkpoint[];\n  max: number;\n}\n\nconst Solution = ({ checkpoints, max }: Props) => {\n  if (checkpoints.length !== max) {\n    return null;\n  }\n\n  checkpoints.sort((ch1, ch2) => {\n    return parseInt(ch1.id, 10) > parseInt(ch2.id, 10) ? 1 : -1;\n  });\n\n  const parsedCodes = checkpoints.map((ch) => {\n    if (ch.skipped) {\n      return '...';\n    }\n\n    return ch.code;\n  });\n\n  return (\n    <Box mt={3}>\n      <Box minWidth={35} ml={1} mb={1}>\n        <Typography variant=\"h6\">Solution:</Typography>\n      </Box>\n      <Box display=\"flex\" alignItems=\"center\">\n        <Box width=\"100%\" ml={1}>\n          {parsedCodes.join(' ')}\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Solution;\n","import {\n  Box,\n  createStyles,\n  Fab,\n  Grid,\n  GridSpacing,\n  makeStyles,\n  Paper,\n  Theme,\n  Typography,\n} from '@material-ui/core';\nimport React from 'react';\nimport { OrienteeringEvent } from '../../types/OrienteeringEvent';\n\nimport LinearProgress, {\n  LinearProgressProps,\n} from '@material-ui/core/LinearProgress';\nimport AddIcon from '@material-ui/icons/Add';\nimport { Link } from 'react-router-dom';\nimport MissingCheckpointsArea from '../MissingCheckpointsArea/MissingCheckpointsArea';\nimport CheckpointCard from '../CheckpointCard/CheckpointCard';\nimport Solution from '../Solution/Solution';\n\nfunction LinearProgressWithLabel({\n  current,\n  max,\n  ...props\n}: LinearProgressProps & { current: number; max: number }) {\n  const value = (100 * current) / max;\n\n  return (\n    <Box display=\"flex\" alignItems=\"center\">\n      <Box width=\"100%\" mr={1}>\n        <LinearProgress variant=\"determinate\" {...props} value={value} />\n      </Box>\n      <Box minWidth={35}>\n        <Typography variant=\"body2\" color=\"textSecondary\">\n          {current}/{max}\n        </Typography>\n      </Box>\n    </Box>\n  );\n}\n\ninterface Props {\n  event: OrienteeringEvent;\n  newCheckpointPath: string;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n      padding: 20,\n    },\n    paper: {\n      width: 80,\n    },\n    item: {\n      padding: 5,\n    },\n    control: {\n      padding: theme.spacing(2),\n    },\n  })\n);\n\nconst ScoreLauf = ({ event, newCheckpointPath }: Props) => {\n  const checkpoints = event.checkpoints;\n\n  const [spacing] = React.useState<GridSpacing>(2);\n\n  const classes = useStyles();\n\n  return (\n    <Box m={1}>\n      <Typography variant=\"h6\">{event.name}</Typography>\n      <LinearProgressWithLabel\n        current={checkpoints.length}\n        max={event.numberOfCheckpoints}\n      />\n\n      {checkpoints.length > 0 && (\n        <Grid container className={classes.root} spacing={2}>\n          <Grid item xs={12}>\n            <Grid container justify=\"flex-start\" spacing={spacing}>\n              {checkpoints.map((checkpoint) => (\n                <Grid key={checkpoint.id} item className={classes.item}>\n                  <Paper className={classes.paper}>\n                    <CheckpointCard\n                      checkpoint={checkpoint}\n                      eventId={event.id}\n                    />\n                  </Paper>\n                </Grid>\n              ))}\n            </Grid>\n          </Grid>\n        </Grid>\n      )}\n\n      <Fab\n        color=\"primary\"\n        aria-label=\"add\"\n        component={Link}\n        to={newCheckpointPath}\n      >\n        <AddIcon />\n      </Fab>\n      <MissingCheckpointsArea\n        scoredIds={checkpoints.map((ch) => parseInt(ch.id, 10))}\n        max={event.numberOfCheckpoints}\n      />\n      <Solution checkpoints={checkpoints} max={event.numberOfCheckpoints} />\n    </Box>\n  );\n};\n\nexport default ScoreLauf;\n","import React, { useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { StorageContext } from '../Storage/Storage';\nimport ScoreLauf from '../ScoreLauf/ScoreLauf';\n\nconst EventPage = () => {\n  const { id } = useParams<{ id: string }>();\n  const { events } = useContext(StorageContext);\n\n  const event = events.find((e) => e.id === parseInt(id, 10));\n\n  if (!event) {\n    return null;\n  }\n\n  return (\n    <ScoreLauf\n      event={event}\n      newCheckpointPath={`/events/${event.id}/add-checkpoint`}\n    />\n  );\n};\n\nexport default EventPage;\n","import otsu from 'otsu';\nvar getColorIndicesForCoord = function (x, y, width) {\n    var red = y * (width * 4) + x * 4;\n    return [red, red + 1, red + 2, red + 3];\n};\nvar posToIndex = function (x, y, width) {\n    return width * x + y;\n};\nexport function prepareImage(ctx) {\n    var _a = ctx.canvas, width = _a.width, height = _a.height;\n    var imageData = ctx.getImageData(0, 0, width, height);\n    var data = imageData.data;\n    var intensity = [];\n    for (var x = 0; x < width; x++) {\n        for (var y = 0; y < height; y++) {\n            var _b = getColorIndicesForCoord(x, y, width), rIndex = _b[0], gIndex = _b[1], bIndex = _b[2];\n            var r = data[rIndex];\n            var g = data[gIndex];\n            var b = data[bIndex];\n            var grey = Math.ceil(r + g + b) / 3;\n            intensity.push(grey);\n        }\n    }\n    var t = otsu(intensity);\n    var thresholded = intensity.map(function (e) { return (e > t); });\n    for (var x = 0; x < width; x++) {\n        for (var y = 0; y < height; y++) {\n            var index = posToIndex(x, y, height);\n            var _c = getColorIndicesForCoord(x, y, width), rIndex = _c[0], gIndex = _c[1], bIndex = _c[2], aIndex = _c[3];\n            if (thresholded[index]) {\n                data[rIndex] = 255;\n                data[gIndex] = 255;\n                data[bIndex] = 255;\n                data[aIndex] = 255;\n            }\n            else {\n                data[rIndex] = 0;\n                data[gIndex] = 0;\n                data[bIndex] = 0;\n                data[aIndex] = 255;\n            }\n        }\n    }\n    ctx.putImageData(imageData, 0, 0);\n}\n//# sourceMappingURL=prepareImage.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as React from 'react';\nimport { useEffect, useRef, useState } from 'react';\nimport { prepareImage } from \"./prepareImage\";\nimport { scan, buildWorker } from \"./scan\";\nimport { detectHarpus } from \"./detectHarpus\";\nvar Scanner = function (_a) {\n    var onRead = _a.onRead;\n    var workerRef = useRef();\n    var canvasRef = useRef();\n    var videoRef = useRef();\n    var _b = useState(null), stream = _b[0], setStream = _b[1];\n    if (!canvasRef.current) {\n        canvasRef.current = document.createElement('canvas');\n    }\n    useEffect(function () {\n        buildWorker().then(function (w) { return workerRef.current = w; });\n        return function () {\n            workerRef.current && workerRef.current.terminate();\n        };\n    }, [workerRef]);\n    useEffect(function () {\n        var ignored = false;\n        var cleanUp = function () {\n            ignored = true;\n            if (stream) {\n                stream.getTracks().forEach(function (track) {\n                    track.stop();\n                });\n            }\n        };\n        if (stream) {\n            return cleanUp;\n        }\n        var video = videoRef.current;\n        function handleSuccess(stream) {\n            if (ignored) {\n                return;\n            }\n            setStream(stream);\n            video.srcObject = stream;\n        }\n        function handleError(error) {\n            if (ignored) {\n                return;\n            }\n            console.log('navigator.MediaDevices.getUserMedia error: ', error);\n        }\n        var constraints = navigator.mediaDevices.getSupportedConstraints();\n        navigator.mediaDevices.getUserMedia({\n            audio: false,\n            video: __assign({ width: { exact: 320 }, height: { exact: 240 } }, (constraints.facingMode ? { facingMode: 'environment' } : {}))\n        }).then(handleSuccess).catch(handleError);\n        return cleanUp;\n    }, [stream, videoRef]);\n    useEffect(function () {\n        var ref = setInterval(function () { return __awaiter(void 0, void 0, void 0, function () {\n            var canvas, video, ctx, text, point;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        canvas = canvasRef.current;\n                        video = videoRef.current;\n                        if (video.videoWidth === 0 || video.videoHeight === 0) {\n                            return [2];\n                        }\n                        canvas.width = video.videoWidth;\n                        canvas.height = video.videoHeight;\n                        ctx = canvas.getContext('2d');\n                        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n                        prepareImage(ctx);\n                        if (!workerRef.current) {\n                            return [2];\n                        }\n                        return [4, scan(workerRef.current, canvas.toDataURL())];\n                    case 1:\n                        text = _a.sent();\n                        point = detectHarpus(text);\n                        if (point) {\n                            onRead(point);\n                        }\n                        return [2];\n                }\n            });\n        }); }, 1000);\n        return function () {\n            clearInterval(ref);\n        };\n    }, [canvasRef, videoRef]);\n    return (React.createElement(\"div\", { style: { width: 300, height: 225, overflow: 'hidden' } },\n        React.createElement(\"video\", { playsInline: true, autoPlay: true, ref: videoRef, style: { width: '100%', height: 'calc(var(--width) * 0.75)' } })));\n};\nexport default Scanner;\n//# sourceMappingURL=Scanner.js.map","export function detectHarpus(text) {\n    var results = text.match(/([0-9]{1,2})\\s+(.{3})/);\n    if (!results) {\n        return null;\n    }\n    return { id: parseInt(results[1], 10), code: results[2] };\n}\n//# sourceMappingURL=detectHarpus.js.map","import React, {useContext, useState} from 'react';\nimport { Form, Field } from 'react-final-form';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Box, Button, TextField } from '@material-ui/core';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { ActionsContext } from '../Storage/Storage';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { FORM_ERROR } from 'final-form';\nimport { Scanner } from \"@woodtime/scanner\"\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    margin: {\n      margin: theme.spacing(1),\n    },\n  })\n);\n\ninterface Values {\n  id: string;\n  code?: string;\n  skipped: boolean;\n}\n\ninterface ScannerRead {\n  id: number\n  code: string\n}\n\nconst AddCheckpointPage = () => {\n  const [scanning, setScanning] = useState(false)\n  const [scannerRead, setScannerRead] = useState<ScannerRead|null>(null)\n  const actions = useContext(ActionsContext);\n  const { id: eventId } = useParams<{ id: string }>();\n\n  const history = useHistory();\n\n  const handleCheckpointSubmit = (checkpoint: Values) => {\n    try {\n      actions?.addCheckpoint({ eventId: parseInt(eventId, 10), ...checkpoint });\n      history.push(`/events/${eventId}`);\n    } catch (err) {\n      if (!err) {\n        return {\n          [FORM_ERROR]: 'Something went wrong',\n        };\n      }\n\n      if (err.message && err.message.startsWith('Checkpoint')) {\n        return {\n          id: 'Id already taken',\n        };\n      }\n\n      return {\n        [FORM_ERROR]: err.message || err,\n      };\n    }\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Form<Values>\n      onSubmit={handleCheckpointSubmit}\n      initialValues={{ skipped: false }}\n      render={({ values, submitError, handleSubmit }) => {\n        if (values.skipped) {\n          delete values.code;\n        }\n\n        return (\n          <form onSubmit={handleSubmit}>\n            {submitError && (\n              <div className=\"error\">{submitError}</div> // not showing\n            )}\n            <Field\n              name=\"id\"\n              render={({ input, meta }) => (\n                <div className={classes.margin}>\n                  <TextField\n                    {...input}\n                    label=\"Id\"\n                    required\n                    autoComplete=\"off\"\n                  />\n                  {meta.touched && (meta.error || meta.submitError) && (\n                    <span>{meta.error || meta.submitError}</span>\n                  )}\n                </div>\n              )}\n            />\n\n            <Field\n              name=\"code\"\n              render={({ input, meta }) => (\n                <div className={classes.margin}>\n                  <TextField\n                    {...input}\n                    label=\"Code\"\n                    required={!values.skipped}\n                    disabled={values.skipped}\n                    autoComplete=\"off\"\n                  />\n                  {meta.touched && (meta.error || meta.submitError) && (\n                    <span>{meta.error || meta.submitError}</span>\n                  )}\n                </div>\n              )}\n            />\n\n            <Field\n              name=\"skipped\"\n              type=\"checkbox\"\n              render={({ input, meta }) => (\n                <Box display=\"flex\" alignItems=\"center\" ml={1}>\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        {...input}\n                        checked={input.value}\n                        name=\"skipped\"\n                        color=\"primary\"\n                      />\n                    }\n                    label=\"Skip\"\n                  />\n                </Box>\n              )}\n            />\n\n            <div style={{ marginTop: 16, marginBottom: 16, width: 300, height: 225 }}>\n              {scanning ? (\n                <div style={{ position: 'relative' }}>\n                  <Scanner onRead={point => { setScannerRead(point) }}/>\n\n                  <Button variant=\"contained\" color=\"secondary\" onClick={() => setScanning(false)} style={{ position: 'absolute', bottom: 0, right: 0 }}>\n                    Cancel\n                  </Button>\n                </div>\n              ) : (\n                <div style={{ width: 300, height: 225, background: 'grey', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                  <Button variant=\"contained\" color=\"secondary\" onClick={() => setScanning(true)}>\n                    Scan\n                  </Button>\n                </div>\n              )}\n            </div>\n\n            {scannerRead && (\n              <div>{scannerRead.id} - {scannerRead.code}</div>\n            )}\n\n            <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n              Submit\n            </Button>\n          </form>\n        );\n      }}\n    />\n  );\n};\n\nexport default AddCheckpointPage;\n","import { createContext } from \"react\";\n\nexport type PwaUpdateOnSuccessCallback =  () => void\nexport type PwaUpdateOnUpdateCallback = (reg: ServiceWorkerRegistration) => void\n\nexport interface PwaUpdater {\n  onSuccess: (cb: PwaUpdateOnSuccessCallback) => void\n  offSuccess: (cb: PwaUpdateOnSuccessCallback) => void\n  onUpdate: (cb: PwaUpdateOnUpdateCallback) => void\n  offUpdate: (cb: PwaUpdateOnUpdateCallback) => void\n}\n\nconst PwaUpdaterContext = createContext<PwaUpdater|null>(null)\n\nexport default PwaUpdaterContext\n","import React, {useContext, useEffect, useState} from 'react'\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport PwaUpdaterContext from \"../PwaUpdaterContext/PwaUpdaterContext\";\n\nconst PwaUpdateNotification = () => {\n  const updater = useContext(PwaUpdaterContext)\n  const [loading, setLoading] = useState(false)\n  const [registration, setRegistration] = useState<ServiceWorkerRegistration|null>(null)\n\n  useEffect(() => {\n    if (!updater) {\n      return\n    }\n\n    const handleUpdate = (reg: ServiceWorkerRegistration) => {\n      setRegistration(reg)\n    }\n\n    updater.onUpdate(handleUpdate)\n\n    return () => {\n      updater.offUpdate(handleUpdate)\n    }\n  }, [updater])\n\n\n  const handleClose = () => {\n    setRegistration(null)\n  }\n\n  const handleReload = () => {\n    if (!registration) {\n      return\n    }\n\n    setLoading(true)\n\n    const registrationWaiting = registration.waiting;\n    if (registrationWaiting) {\n      registrationWaiting.postMessage({ type: 'SKIP_WAITING' });\n      registrationWaiting.addEventListener('statechange', (e) => {\n        const target = e.target ? e.target as ServiceWorker : null\n        if (target?.state === 'activated') {\n          window.location.reload()\n        }\n      });\n    }\n  }\n\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      open={Boolean(registration)}\n      onClose={handleClose}\n      message=\"A new version of the app is available!\"\n      action={\n        <React.Fragment>\n          <Button color=\"secondary\" size=\"small\" onClick={handleReload} disabled={loading}>\n            RELOAD\n          </Button>\n          <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        </React.Fragment>\n      }\n    />\n  )\n}\n\nexport default PwaUpdateNotification\n","import React from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport { AppBar, Toolbar, Typography, Link } from '@material-ui/core';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link as RouterLink,\n} from 'react-router-dom';\n\nimport EventList from './components/EventList/EventList';\nimport Storage from './components/Storage/Storage';\nimport AddEvent from './components/AddEvent/AddEvent';\nimport EventPage from './components/EventPage/EventPage';\nimport AddCheckpointPage from './components/AddCheckpointPage/AddCheckpointPage';\nimport PwaUpdateNotification from \"./components/PwaUpdateNofication/PwaUpdateNotification\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n    },\n  })\n);\n\nfunction App() {\n  const classes = useStyles();\n\n  return (\n    <Storage>\n      <PwaUpdateNotification />\n\n      <Router basename={process.env.PUBLIC_URL}>\n        <AppBar position=\"static\">\n          <Toolbar>\n            <Typography variant=\"h6\" className={classes.title}>\n              <Link component={RouterLink} to=\"/\" color=\"inherit\">\n                Woodtime\n              </Link>\n            </Typography>\n          </Toolbar>\n        </AppBar>\n\n        <Switch>\n          <Route path=\"/\" exact>\n            <EventList />\n          </Route>\n          <Route path=\"/events/new\" exact>\n            <EventList />\n            <AddEvent />\n          </Route>\n          <Route path=\"/events/:id\" exact>\n            <EventPage />\n          </Route>\n          <Route path=\"/events/:id/add-checkpoint\" exact>\n            <AddCheckpointPage />\n          </Route>\n        </Switch>\n      </Router>\n    </Storage>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, {ReactNode} from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nimport PwaUpdaterContext, { PwaUpdater, PwaUpdateOnSuccessCallback, PwaUpdateOnUpdateCallback } from './components/PwaUpdaterContext/PwaUpdaterContext'\n\nconst onSuccessCallbacks: PwaUpdateOnSuccessCallback[] = []\nconst onUpdateCallbacks: PwaUpdateOnUpdateCallback[] = []\n\nconst UpdaterProvider = ({ children }: { children: ReactNode }) => {\n  const value: PwaUpdater = {\n    onSuccess: (cb) => onSuccessCallbacks.push(cb),\n    offSuccess: (cb) => onSuccessCallbacks.filter(fn => fn !== cb),\n    onUpdate: (cb) => onUpdateCallbacks.push(cb),\n    offUpdate: (cb) => onUpdateCallbacks.filter(fn => fn !== cb)\n  }\n\n  return (\n    <PwaUpdaterContext.Provider value={value}>\n      {children}\n    </PwaUpdaterContext.Provider>\n  )\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <UpdaterProvider>\n      <App />\n    </UpdaterProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register({\n  onUpdate: reg => {\n    onUpdateCallbacks.forEach(cb => cb(reg))\n  },\n  onSuccess: () => {\n    onSuccessCallbacks.forEach(cb => cb())\n  }\n});\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { createWorker } from 'tesseract.js';\nexport function buildWorker() {\n    return __awaiter(this, void 0, void 0, function () {\n        var worker;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    worker = createWorker(typeof process === 'object'\n                        ? {}\n                        : {\n                            corePath: require('file-loader!tesseract.js-core/tesseract-core.asm.js').default\n                        });\n                    return [4, worker.load()];\n                case 1:\n                    _a.sent();\n                    return [4, worker.loadLanguage('pol')];\n                case 2:\n                    _a.sent();\n                    return [4, worker.initialize('pol')];\n                case 3:\n                    _a.sent();\n                    return [4, worker.setParameters({\n                            tessedit_char_whitelist: '0123456789AĄBCĆDĘEFGHIJKLŁMNŃOÓPRSŚTUVWXYZŻŹ !?-'\n                        })];\n                case 4:\n                    _a.sent();\n                    return [2, worker];\n            }\n        });\n    });\n}\nexport function scan(worker, image) {\n    return __awaiter(this, void 0, void 0, function () {\n        var text;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4, worker.recognize(image)];\n                case 1:\n                    text = (_a.sent()).data.text;\n                    return [2, text];\n            }\n        });\n    });\n}\n//# sourceMappingURL=scan.js.map"],"sourceRoot":""}